<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>大林子Studio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
    <meta name="description" content="大林子随笔">
  
  
    <meta name="keywords" content="前端 旅行  生活">
  
  
    <link rel="alternate" href="/atom.xml" title="大林子Studio" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
    
<link rel="stylesheet" href="/localshare/css/share.css">

  
  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">大林子Studio</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Empty pots make the most noise</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/."><i class="fa fa-home"></i> 首页</a>
        
          <a class="main-nav-link" href="/archives/"><i class="fa fa-archive"></i> 归档</a>
        
          <a class="main-nav-link" href="/about/"><i class="fa fa-user"></i> 关于</a>
        
          <a class="main-nav-link" href="/atom.xml"><i class="fa fa-rss"></i> 订阅</a>
        
      </nav>
    </div>
    <div id="search-form">
      <div id="result-mask" class="hide"></div>
      <label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label>
      <div id="result-wrap" class="hide">
        <div id="search-result"></div>
      </div>
      <div class="hide">
        <template id="search-tpl">
          <div class="item">
            <a href="/{path}" title="{title}">
              <div class="title">{title}</div>
              <div class="time">{date}</div>
              <div class="tags">{tags}</div>
            </a>
          </div>
        </template>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  <article id="post-js基础" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/07/29/js%E5%9F%BA%E7%A1%80/">js基础</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2021-07-29T00:54:00.000Z" itemprop="datePublished">2021年07月29日</time>
</span>
      
      
      
<a href="/2021/07/29/js%E5%9F%BA%E7%A1%80/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  留言
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h1><p>Javascript中有三种声明方式：</p>
<ul>
<li><code>var</code>声明一个变量，可选初始化一个值。</li>
<li><code>let</code>声明一个块级作用域的局部变量，可选初始化一个值。</li>
<li><code>const</code>声明一个块级作用域的只读常量。</li>
</ul>
<h2 id="var"><a href="#var" class="headerlink" title="var"></a>var</h2><ul>
<li>作用域： var声明变量为全局变量和函数作用域的局部变量。</li>
<li>直接赋值。例如<code>x=42</code>。其含义是声明全局变量并赋值。<br>但在<strong>严格模式</strong>下中LHS查询失败，并不会创建并返回一个全局变量，引擎会报出ReferenceError异常。</li>
<li>变量提升：var声明的变量会被提升到函数作用域顶部。返回<code>undefine</code>。<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(message);<span class="comment">//undefined</span></span><br><span class="line"><span class="keyword">var</span> message=<span class="string">&#x27;Hi&#x27;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="let"><a href="#let" class="headerlink" title="let"></a>let</h2><ul>
<li><p>作用域：let声明变量为块级作用域的局部变量。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> message=<span class="string">&quot;Hi&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(message);<span class="comment">//ReferenceError message未定义</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> message=<span class="string">&quot;Hi&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(message);<span class="comment">//Hi</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>let声明的变量不会被提升。原因是:在let声明的变量之前，变量处于<strong>暂时性死区</strong>，在这段时间内变量被引用时，会报<code>ReferenceError</code>未定义错误。</p>
</li>
<li><p>注意：let声明的变量不会成为window对象的属性。var 声明变量会被变成window属性。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name=<span class="string">&quot;matt&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.name);<span class="comment">//matt</span></span><br><span class="line"><span class="keyword">let</span> name=<span class="string">&quot;matt&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.name);<span class="comment">//undefined</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>for循环中的let 和var</p>
<ul>
<li><p>使用var声明变量。for 循环定义的迭代变量会渗透到循环体外部。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">5</span>)&#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">  &#125;,<span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 你可能以为会输出0、1、2、3、4 </span></span><br><span class="line"><span class="comment">// 实际上会输出5、5、5、5、5</span></span><br></pre></td></tr></table></figure></li>
<li><p>使用let声明变量。JavaScript 引擎在后台会为每个迭代循环声明一个新的迭代变量。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; ++i) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(i), <span class="number">0</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 会输出0、1、2、3、4</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="const"><a href="#const" class="headerlink" title="const"></a>const</h2><p>const创建只读的常量。</p>
<ul>
<li>常量不可以通过重新赋值改变其值，也不可以在代码运行时重新声明。它必须被初始化为某个值。</li>
<li>对象属性被赋值为常量不受保护。以下的语句执行时不会有错误。</li>
<li>数组被定义为常量也是不受保护的。以下的句子执行时也不会有错误。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Name=<span class="string">&quot;Matt&quot;</span>;</span><br><span class="line">Name=<span class="string">&quot;Chris&quot;</span>;<span class="comment">//报错 </span></span><br><span class="line"><span class="keyword">const</span> MY_OBJECT = &#123;<span class="string">&quot;key&quot;</span>: <span class="string">&quot;value&quot;</span>&#125;;</span><br><span class="line">MY_OBJECT.key = <span class="string">&quot;otherValue&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(MY_OBJECT);<span class="comment">//&#123;&quot;key&quot;: &quot;otherValue&quot;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> MY_ARRAY = [<span class="string">&#x27;HTML&#x27;</span>,<span class="string">&#x27;CSS&#x27;</span>];</span><br><span class="line">MY_ARRAY.push(<span class="string">&#x27;JAVASCRIPT&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(MY_ARRAY); <span class="comment">//logs [&#x27;HTML&#x27;,&#x27;CSS&#x27;,&#x27;JAVASCRIPT&#x27;];</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="变量求值"><a href="#变量求值" class="headerlink" title="变量求值"></a>变量求值</h2><ul>
<li><code>var</code>或者<code>let</code>声明的变量，如果没有赋值，则其值默认为<code>undefined</code>。</li>
<li>当访问一个<strong>未声明</strong>的变量，会导致出现引擎出现引用类型错误ReferenceError异常。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;The value of a is &quot;</span> + a); <span class="comment">// a 的值是 undefined</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;The value of b is &quot;</span> + b);<span class="comment">// b 的值是 undefined</span></span><br><span class="line"><span class="keyword">var</span> b;</span><br><span class="line"><span class="comment">// 在你阅读下面的‘变量声明提升’前你可能会疑惑</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;The value of c is &quot;</span> + c); <span class="comment">// 未捕获的引用错误： c 未被定义</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> x;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;The value of x is &quot;</span> + x); <span class="comment">// x 的值是 undefined</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;The value of y is &quot;</span> + y);<span class="comment">// 未捕获的引用错误： y 未被定义</span></span><br><span class="line"><span class="keyword">let</span> y;</span><br></pre></td></tr></table></figure>

<h2 id="函数提升"><a href="#函数提升" class="headerlink" title="函数提升"></a>函数提升</h2><p>函数声明会被提升至顶部，而函数表达式不会被提升.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 函数声明 */</span></span><br><span class="line">foo(); <span class="comment">// &quot;bar&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;bar&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 函数表达式 */</span></span><br><span class="line">baz(); <span class="comment">// TypeError类型错误：baz 不是一个函数</span></span><br><span class="line"><span class="keyword">var</span> baz = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;bar2&quot;</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


<h1 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h1><h2 id="7种数据类型"><a href="#7种数据类型" class="headerlink" title="7种数据类型"></a>7种数据类型</h2><p>6种基本类型也是原始类型，1种Object是复杂数据类型。</p>
<ul>
<li><strong>Number</strong> 任何类型的数据：整数或者浮点数,NaN属于Number类型</li>
<li><strong>String</strong> 字符串。</li>
<li><strong>Boolean</strong>布尔类型 true 和false</li>
<li><strong>Null</strong> 未赋值的值 null。JavaScript 是大小写敏感的，因此 null 与 Null、NULL或变体完全不同。</li>
<li><strong>undefined</strong> 未定义的值 undefined</li>
<li><strong>Symbol</strong> 用于唯一标识符.符号(Symbols)是ECMAScript 第6版新定义的。符号类型是唯一的并且是不可修改的, 并且也可以用来作为Object的key的值</li>
<li><strong>Object</strong> 引用类型。内置对象 Function、Array、Date、RegExp、Error等都是属于 Object 类型。也就是说，除了那五种基本数据类型之外，其他的，都称之为 Object类型。</li>
</ul>
<h3 id="数据类型之间最大的区别"><a href="#数据类型之间最大的区别" class="headerlink" title="数据类型之间最大的区别"></a>数据类型之间最大的区别</h3><p>基本数据类型：参数赋值的时候，传数值。<br>引用数据类型：参数赋值的时候，传地址（修改的同一片内存空间）</p>
<p>Undefined是假值。检验undefined方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> message; <span class="comment">// 这个变量被声明了，只是值为undefined</span></span><br><span class="line"><span class="comment">// age 没有声明</span></span><br><span class="line"><span class="keyword">if</span> (message) &#123; <span class="comment">// 这个块不会执行</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!message) &#123; <span class="comment">// 这个块会执行</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (age) &#123;</span><br><span class="line"><span class="comment">// 这里会报错</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Null: null 值表示一个空对象指针，这也是给 typeof 传一个 null 会返回”object”的原因。</p>
<p>null 是一个假值。因此，如果需要，可以用更简洁的方式检测它：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> message = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> age;</span><br><span class="line"><span class="keyword">if</span> (message) &#123; <span class="comment">// 这个块不会执行</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!message) &#123; <span class="comment">// 这个块会执行</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (age) &#123;</span><br><span class="line"><span class="comment">// 这个块不会执行</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!age) &#123;</span><br><span class="line"><span class="comment">// 这个块会执行</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h2><p>数字类型三种符号值：+Infinity正无穷  -Infinity负无穷  NaN非数字</p>
<p>数字的判断：isNaN</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="literal">NaN</span>));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="number">10</span>));<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="string">&quot;10&quot;</span>));<span class="comment">// true，不可以转换为数值10</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="string">&quot;blue&quot;</span>)); <span class="comment">// true，不可以转换为数值</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="literal">true</span>)); <span class="comment">// false，可以转换为数值1</span></span><br></pre></td></tr></table></figure>

<h3 id="数值转换"><a href="#数值转换" class="headerlink" title="数值转换"></a>数值转换</h3><p>将非数值转为数值的三种方法：<code>Number()、parseInt()、parseFloat()。</code></p>
<ul>
<li><p>Number()：用于任何类型</p>
<table>
<thead>
<tr>
<th>类型</th>
<th>规则</th>
</tr>
</thead>
<tbody><tr>
<td>布尔值</td>
<td>true 为1；false为0</td>
</tr>
<tr>
<td>数值</td>
<td>返回值</td>
</tr>
<tr>
<td>null</td>
<td>0</td>
</tr>
<tr>
<td>Undefined</td>
<td>NaN</td>
</tr>
<tr>
<td>字符串</td>
<td>- 包含数值，包括前面数值有+，-。则转换为十进制数值：Numer(“+10”);//10 <br>- 包含浮点数值，则转换相应的浮点值：Number(“1.1”);//1.1<br>- 包含十六进制，则转换为十六进制对应的十进制数<br>- 空字符串，则为0；<br>- 以上都不符合，则为NaN</td>
</tr>
<tr>
<td>对象</td>
<td>调用对象的valueOf()方法，按照以上规则转换为数值。<br>如果转换值为NaN,则再调用toString()方法按照转换字符串的规则转换。</td>
</tr>
</tbody></table>
</li>
<li><p>parseInt()和parseFloat()用于字符串转为数值类型。</p>
<ul>
<li>parseInt(num,2/8/10/16):将数值转换为相应进制。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num1 = <span class="built_in">parseInt</span>(<span class="string">&quot;1234blue&quot;</span>);  <span class="comment">// 1234</span></span><br><span class="line"><span class="keyword">let</span> num2 = <span class="built_in">parseInt</span>(<span class="string">&quot;&quot;</span>);<span class="comment">// NaN</span></span><br><span class="line"><span class="keyword">let</span> num3 = <span class="built_in">parseInt</span>(<span class="string">&quot;0xA&quot;</span>);<span class="comment">// 10，解释为十六进制整数</span></span><br><span class="line"><span class="keyword">let</span> num4 = <span class="built_in">parseInt</span>(<span class="number">22.5</span>);<span class="comment">//22</span></span><br><span class="line"><span class="keyword">let</span> num5 = <span class="built_in">parseInt</span>(<span class="string">&quot;70&quot;</span>);<span class="comment">// 70，解释为十进制值 9</span></span><br><span class="line"><span class="keyword">let</span> num6 = <span class="built_in">parseInt</span>(<span class="string">&quot;0xf&quot;</span>); <span class="comment">// 15，解释为十六进制整数</span></span><br></pre></td></tr></table></figure>

<ul>
<li>parseFloat()：只能将数值转为十进制。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num1 = <span class="built_in">parseFloat</span>(<span class="string">&quot;1234blue&quot;</span>);<span class="comment">// 1234，按整数解析</span></span><br><span class="line"><span class="keyword">let</span> num2 = <span class="built_in">parseFloat</span>(<span class="string">&quot;0xA&quot;</span>); <span class="comment">// 0</span></span><br><span class="line"><span class="keyword">let</span> num3 = <span class="built_in">parseFloat</span>(<span class="string">&quot;22.5&quot;</span>);<span class="comment">// 22.5</span></span><br><span class="line"><span class="keyword">let</span> num4 = <span class="built_in">parseFloat</span>(<span class="string">&quot;22.34.5&quot;</span>);<span class="comment">// 22.34</span></span><br><span class="line"><span class="keyword">let</span> num5 = <span class="built_in">parseFloat</span>(<span class="string">&quot;0908.5&quot;</span>);<span class="comment">// 908.5</span></span><br><span class="line"><span class="keyword">let</span> num6 = <span class="built_in">parseFloat</span>(<span class="string">&quot;3.125e7&quot;</span>);<span class="comment">// 31250000</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="数据类型的检测"><a href="#数据类型的检测" class="headerlink" title="数据类型的检测"></a>数据类型的检测</h2><ul>
<li><p>typeof可检测变量是否是字符串，数值，布尔类型，undefined。但无办法识别Null和对象，因其变量为null或者object返回结果为object.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="number">42</span>);</span><br><span class="line"> <span class="comment">// expected output: &quot;number&quot;</span></span><br><span class="line"> <span class="keyword">const</span> a=[<span class="number">1</span>];</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="keyword">typeof</span>(a));<span class="comment">//object</span></span><br><span class="line"><span class="keyword">let</span> b=<span class="literal">null</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> b);<span class="comment">//Object</span></span><br></pre></td></tr></table></figure></li>
<li><p>instanceof 用于引用类型。 检测其变量的原型对象，可得知其类型,例如内置Function Array等</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">result =variable <span class="keyword">instanceof</span> <span class="title">constructor</span></span><br><span class="line"><span class="title">alert</span>(<span class="params">person <span class="keyword">instanceof</span> <span class="built_in">Object</span></span>);</span><br><span class="line"><span class="keyword">let</span> a=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(a <span class="keyword">instanceof</span> <span class="built_in">Function</span>);</span><br></pre></td></tr></table></figure></li>
<li><p>数组新增检测方法 Array.isArray();ES5语法有兼容性问题</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.isArray([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// true </span></span><br></pre></td></tr></table></figure></li>
<li><p>constructor 通过实例的构造函数属性constructor指向构造函数，不能用于<code>undefined</code>和<code>null</code></p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">let</span> a=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">12</span>];</span><br><span class="line">     a.constructor===<span class="built_in">Array</span>;<span class="comment">///true</span></span><br><span class="line"> <span class="keyword">let</span> obj=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(obj.constructor);<span class="comment">//ƒ Array() &#123; [native code] &#125;</span></span><br></pre></td></tr></table></figure>

<p>  存在判断不准确的情况：</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Fn</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line">Fn.prototype=<span class="keyword">new</span> <span class="built_in">Array</span>();<span class="comment">//修改原型对象为数组</span></span><br><span class="line"><span class="keyword">let</span> fn=<span class="keyword">new</span> Fn();</span><br><span class="line"><span class="built_in">console</span>.log(fn.constructor===<span class="built_in">Array</span>);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(fn.constructor===Fn);<span class="comment">//false</span></span><br><span class="line"><span class="comment">// 此时的 fn 应该是一个普通对象，而非数组，所以此时使用 constructor 判断是不合适的。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>  <strong>使用instanceof和constructor的局限性：</strong><br>  使用和声明都必须是在当前页面，比如父页面引用了子页面，子页面中声明了一个<code>Array</code>，将其赋值给父页面的一个变量，<br>  判断这个变量的类型<code>console.log(arr.constructor===Array);//false</code>。原因如下：</p>
<ul>
<li><p><code>Array</code>为引用类型，在传递过程中，仅仅是传递了该数据的引用地址。</p>
</li>
<li><p>每个页面的<code>Array</code>原生对象所引用的地址是不一样的，在子页面声明的数组所对应的构造函数是子页面的<code>Array</code>对象；父页面来进行判断，使用的数组并不等于子页面的数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> iframe=<span class="built_in">document</span>.createElement(<span class="string">&#x27;iframe&#x27;</span>);</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(iframe);</span><br><span class="line"><span class="keyword">var</span> xArray=<span class="built_in">window</span>.frames[<span class="built_in">window</span>.frame.length-<span class="number">1</span>].Array</span><br><span class="line"><span class="keyword">var</span> xarr=<span class="keyword">new</span> xArray();<span class="comment">//其他页面上的数组</span></span><br><span class="line"><span class="keyword">var</span> arr=<span class="keyword">new</span> <span class="built_in">Array</span>();<span class="comment">//同页面的数组</span></span><br><span class="line"><span class="comment">//不同页面  结果并非预期的true   而是false</span></span><br><span class="line"><span class="built_in">console</span>.log(xarr <span class="keyword">instanceof</span> <span class="built_in">Array</span>);<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(xarr.constructor===<span class="built_in">Array</span>);<span class="comment">//false</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">//同页面为true</span></span><br><span class="line"><span class="built_in">console</span>.log(arr <span class="keyword">instanceof</span> <span class="built_in">Array</span>);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.constructor===<span class="built_in">Array</span>);<span class="comment">//true</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>Object.prototype.toString.call() 推荐使用，精准判断数据类型  但是不能校验自定义类型</p>
 <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line"> <span class="comment">//判断类型的方法</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">isType</span>(<span class="params">content,type</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(content)=== <span class="string">`[objct <span class="subst">$&#123;type&#125;</span>]`</span></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">   isType(<span class="string">&quot;this is string&quot;</span>,<span class="string">&quot;String&quot;</span>);<span class="comment">//</span></span><br><span class="line">   isType([<span class="number">12</span>,<span class="number">34</span>],<span class="string">&quot;Array&quot;</span>);<span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//用高阶函数优化</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">isType</span>(<span class="params">type</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">content</span>)</span>&#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(content)====<span class="string">`[objct <span class="subst">$&#123;type&#125;</span>]`</span></span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> isString=isType(<span class="string">&quot;String&quot;</span>);</span><br><span class="line">   <span class="keyword">let</span> isArray=isType(<span class="string">&quot;Array&quot;</span>);</span><br><span class="line">   <span class="keyword">let</span> isNumber=isType(<span class="string">&quot;Number&quot;</span>);</span><br><span class="line">   <span class="keyword">let</span> ifFunction=isType(<span class="string">&quot;Function&quot;</span>);</span><br><span class="line"></span><br><span class="line">   <span class="built_in">console</span>.log(isString(<span class="string">&quot;this is str&quot;</span>));</span><br><span class="line">   <span class="built_in">console</span>.log(isArray([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]));<span class="comment">//[Object Array]</span></span><br><span class="line"></span><br><span class="line">   <span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;&#125;</span><br><span class="line">   <span class="keyword">let</span> a=<span class="keyword">new</span> A();</span><br><span class="line">   <span class="built_in">console</span>.log(isType(a));<span class="comment">//[Object Object]</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="数据类型的转换"><a href="#数据类型的转换" class="headerlink" title="数据类型的转换"></a>数据类型的转换</h2><h3 id="隐性类型转换"><a href="#隐性类型转换" class="headerlink" title="隐性类型转换"></a>隐性类型转换</h3><ol>
<li>数字类型+字符串类型转换为字符串类型：将数字隐形转换为字符串。</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="string">&quot;The answer is &quot;</span> + <span class="number">42</span> <span class="comment">// &quot;The answer is 42&quot;</span></span><br><span class="line">y = <span class="number">42</span> + <span class="string">&quot; is the answer&quot;</span> <span class="comment">// &quot;42 is the answer&quot;</span></span><br><span class="line"><span class="string">``</span><span class="string">``</span></span><br><span class="line"></span><br><span class="line"><span class="string">``</span><span class="string">`Javascript</span></span><br><span class="line"><span class="string">37+&#x27;7&#x27; //&quot;377&quot;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>字符串类型-数字类型转换为数字类型：将字符串隐形转换为数字类型</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;37&quot;</span> - <span class="number">7</span> <span class="comment">// 30</span></span><br><span class="line"><span class="string">``</span><span class="string">``</span></span><br><span class="line"></span><br><span class="line">### 符串转换为数字</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> <span class="built_in">parseInt</span>(string,[radix]) 返回整数, radix为转换的进制参数</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> <span class="built_in">parseFloat</span>(string);返回浮点数，带小数点</span><br><span class="line"><span class="number">3.</span> 隐形转换，使用一元**加法运算符**</span><br><span class="line"></span><br><span class="line"><span class="string">``</span><span class="string">`Javascript</span></span><br><span class="line"><span class="string">    let numString=&#x27;1024&#x27;;</span></span><br><span class="line"><span class="string">    let a=parseInt(numString,8);</span></span><br><span class="line"><span class="string">    console.log(a);//532</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    parseFloat(&#x27;3.14&#x27;);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &quot;1.1&quot; + &quot;1.1&quot; = &quot;1.11.1&quot;</span></span><br><span class="line"><span class="string">    (+&quot;1.1&quot;) + (+&quot;1.1&quot;) = 2.2</span></span><br><span class="line"><span class="string">    // 注意：加入括号为清楚起见，不是必需的。</span></span><br></pre></td></tr></table></figure>

<h3 id="转换为布尔值false"><a href="#转换为布尔值false" class="headerlink" title="转换为布尔值false"></a>转换为布尔值false</h3><ul>
<li>false</li>
<li>undefined</li>
<li>null</li>
<li>Nan</li>
<li>0</li>
<li>空字符串 “”<br>其他都被转换为true,包括{},[]。</li>
</ul>
<p>TODO 不知道的js系列 类型转换</p>
<h3 id="强制类型转换"><a href="#强制类型转换" class="headerlink" title="强制类型转换"></a>强制类型转换</h3><ul>
<li>字符串拼接</li>
<li>==运算符</li>
<li>if语句</li>
<li>逻辑运算</li>
</ul>
<h2 id="字面量-Literals"><a href="#字面量-Literals" class="headerlink" title="字面量 Literals"></a>字面量 Literals</h2><p>字面量是由语法表达式定义的常量,或，通过由一定字词组成的语词表达式定义的常量</p>
<ul>
<li>数组字面量</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> coffees=[<span class="string">&#x27;French Roast&#x27;</span>,<span class="string">&#x27;Colombian&#x27;</span>,<span class="string">&#x27;Kona&#x27;</span>];</span><br><span class="line"><span class="keyword">var</span> fish = [<span class="string">&quot;Lion&quot;</span>, , <span class="string">&quot;Angel&quot;</span>];</span><br></pre></td></tr></table></figure>

<ul>
<li><p>布尔字面量Boolean literals 布尔类型两种字面量 true false</p>
</li>
<li><p>整数Integers<br>整数可以用十进制（基数为10）、十六进制（基数为16）、八进制（基数为8）以及二进制（基数为2）表示。</p>
<ul>
<li>十进制整数字面量由一串数字序列组成，且没有前缀0。</li>
<li>八进制的整数以 0（或0O、0o）开头，只能包括数字0-7。</li>
<li>十六进制整数以0x（或0X）开头，可以包含数字（0-9）和字母 a<del>f 或 A</del>F。</li>
<li>二进制整数以0b（或0B）开头，只能包含数字0和1。</li>
<li>严格模式下，八进制整数字面量必须以0o或0O开头，而不能以0开头。<br>整数字面量举例：</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span>, <span class="number">117</span> and -<span class="number">345</span> (十进制, 基数为<span class="number">10</span>)</span><br><span class="line"><span class="number">015</span>, <span class="number">0001</span> and -<span class="number">0o77</span> (八进制, 基数为<span class="number">8</span>)</span><br><span class="line"><span class="number">0x1123</span>, <span class="number">0x00111</span> and -<span class="number">0xF1A7</span> (十六进制, 基数为<span class="number">16</span>或<span class="string">&quot;hex&quot;</span>)</span><br><span class="line"><span class="number">0b11</span>, <span class="number">0b0011</span> and -<span class="number">0b11</span> (二进制, 基数为<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>浮点数字面量Floating-point literals<br>  浮点数字面值可以有以下的组成部分：<ul>
<li>一个十进制整数，可以带正负号（即前缀“+”或“ - ”），</li>
<li>小数点（“.”），</li>
<li>小数部分（由一串十进制数表示），</li>
<li>指数部分。<br>浮点数字面量举例：</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3.14</span></span><br><span class="line">-<span class="number">.2345789</span> <span class="comment">// -0.23456789</span></span><br><span class="line">-<span class="number">3.12e+12</span>  <span class="comment">// -3.12*1012</span></span><br><span class="line"><span class="number">.1e-23</span>    <span class="comment">// 0.1*10-23=10-24=1e-24</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>对象字面量Object literals<br>对象字面值是封闭在花括号对({})中的一个对象的零个或多个”属性名-值”对的（元素）列表。<br>例如 对象car的第一个元素（译注：即一个属性/值对）定义了属性myCar；第二个元素，属性getCar，引用了一个函数（即CarTypes(“Honda”)）；第三个元素，属性special，使用了一个已有的变量（即Sales）。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">          <span class="keyword">var</span> Sales = <span class="string">&quot;Toyota&quot;</span>;</span><br><span class="line">  </span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">CarTypes</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> (name === <span class="string">&quot;Honda&quot;</span>) ?</span><br><span class="line">            name :</span><br><span class="line">            <span class="string">&quot;Sorry, we don&#x27;t sell &quot;</span> + name + <span class="string">&quot;.&quot;</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">var</span> car = &#123; <span class="attr">myCar</span>: <span class="string">&quot;Saturn&quot;</span>, <span class="attr">getCar</span>: CarTypes(<span class="string">&quot;Honda&quot;</span>), <span class="attr">special</span>: Sales &#125;;</span><br><span class="line">  </span><br><span class="line">        <span class="built_in">console</span>.log(car.myCar);   <span class="comment">// Saturn</span></span><br><span class="line">        <span class="built_in">console</span>.log(car.getCar);  <span class="comment">// Honda</span></span><br><span class="line">        <span class="built_in">console</span>.log(car.special); <span class="comment">// Toyota </span></span><br><span class="line">  <span class="string">``</span><span class="string">``</span></span><br><span class="line"></span><br><span class="line">- <span class="built_in">RegExp</span> 字面值</span><br><span class="line">一个正则表达式是字符被斜线（译注：正斜杠“/”）围成的表达式。下面是一个正则表达式文字的一个例子。</span><br><span class="line"></span><br><span class="line"> <span class="string">``</span><span class="string">`js</span></span><br><span class="line"><span class="string">  var re = /ab+c/;</span></span><br></pre></td></tr></table></figure></li>
<li><p>字符串字面量String literals</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;foo&quot;</span></span><br><span class="line"><span class="string">&#x27;bar&#x27;</span></span><br><span class="line"><span class="comment">// Basic literal string creation</span></span><br><span class="line"><span class="string">`In JavaScript &#x27;\n&#x27; is a line-feed.`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Multiline strings</span></span><br><span class="line"><span class="string">`In JavaScript this is</span></span><br><span class="line"><span class="string"> not legal.`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// String interpolation</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">&quot;Bob&quot;</span>, time = <span class="string">&quot;today&quot;</span>;</span><br><span class="line"><span class="string">`Hello <span class="subst">$&#123;name&#125;</span>, how are you <span class="subst">$&#123;time&#125;</span>?`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Construct an HTTP request prefix is used to interpret the replacements and construction</span></span><br><span class="line">POST<span class="string">`http://foo.org/bar?a=<span class="subst">$&#123;a&#125;</span>&amp;b=<span class="subst">$&#123;b&#125;</span></span></span><br><span class="line"><span class="string">     Content-Type: application/json</span></span><br><span class="line"><span class="string">     X-Credentials: <span class="subst">$&#123;credentials&#125;</span></span></span><br><span class="line"><span class="string">     &#123; &quot;foo&quot;: <span class="subst">$&#123;foo&#125;</span>,</span></span><br><span class="line"><span class="string">       &quot;bar&quot;: <span class="subst">$&#123;bar&#125;</span>&#125;`</span>(myOnReadyStateChangeHandler);</span><br></pre></td></tr></table></figure>

<h1 id="流程控制与错误处理"><a href="#流程控制与错误处理" class="headerlink" title="流程控制与错误处理"></a>流程控制与错误处理</h1><h3 id="语句块"><a href="#语句块" class="headerlink" title="语句块"></a>语句块</h3><p>语句块常用于流程控制，如if,for,while等</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(x&lt;<span class="number">10</span>)&#123;</span><br><span class="line">    x++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里{ x++; }就是语句块。<br>从 ECMAScript 2015 开始，使用 let 和const变量是块作用域的。</p>
<h3 id="条件判断语句"><a href="#条件判断语句" class="headerlink" title="条件判断语句"></a>条件判断语句</h3><p>条件判断语句指的是根据指定的条件所返回的结果(条件是真或假或者其他预定义的)，来执行特定的语句。if…else 和switch</p>
<ol>
<li>if…else语句<br>当一个逻辑条件为真，用if语句执行一个语句。当这个条件为假，使用可选择的else从句来执行语句。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(condition)&#123;</span><br><span class="line">    statement_1;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    statement_2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (条件) &#123;</span><br><span class="line">  当条件为真的时候，执行语句<span class="number">1</span>;</span><br><span class="line">  当条件为真的时候，执行语句<span class="number">2</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  当条件为假的时候，执行语句<span class="number">3</span>;</span><br><span class="line">  当条件为假的时候，执行语句<span class="number">4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>注意判断x<code>===</code>y 与x<code>==</code>y的区别：<br>当使用==，则会将两种类型隐形转换，<br>当使用===，则比较两个类型时，不会强制转换其原本的类型<br>因此当判断x<code>===</code>y作为判断条件时，推荐使用<code>===</code>，可判断其x与y是否完全相等。</p>
<h2 id="与-的区别"><a href="#与-的区别" class="headerlink" title="== 与===的区别"></a>== 与===的区别</h2><p>  ==： 如果两个操作数的类型不相等，则会隐形转换相同的数据类型；如果数据类型相等，数值相等，则true;否则false</p>
<p>  ===:  不存在类型转换。 如类型不相等，则为false;如类型相等，值不相等也为false；否则为true。要求类型相等和数值相等</p>
<p>  转换规则：</p>
<table>
<thead>
<tr>
<th>基本数据类型</th>
<th>数字类型</th>
</tr>
</thead>
<tbody><tr>
<td>数字字符串</td>
<td>对应的数字</td>
</tr>
<tr>
<td>true</td>
<td>1</td>
</tr>
<tr>
<td>false</td>
<td>0</td>
</tr>
<tr>
<td>null</td>
<td>0</td>
</tr>
<tr>
<td>undefined</td>
<td>NaN</td>
</tr>
<tr>
<td>“” 空字符串</td>
<td>0</td>
</tr>
<tr>
<td>不可完全被解析为数值的字符串</td>
<td>NaN</td>
</tr>
</tbody></table>
<ol start="2">
<li>switch语句<br>switch语句允许一个程序求一个表达式的值并且尝试去匹配表达式的值到一个case标签。如果匹配成功，这个程序会执行相关的语句。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (expression) &#123;</span><br><span class="line">   <span class="keyword">case</span> label_1:</span><br><span class="line">      statements_1</span><br><span class="line">      [<span class="keyword">break</span>;]</span><br><span class="line">   <span class="keyword">case</span> label_2:</span><br><span class="line">      statements_2</span><br><span class="line">      [<span class="keyword">break</span>;]</span><br><span class="line">   ...</span><br><span class="line">   <span class="attr">default</span>:</span><br><span class="line">      statements_def</span><br><span class="line">      [<span class="keyword">break</span>;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (fruittype) &#123;</span><br><span class="line">   <span class="keyword">case</span> <span class="string">&quot;Oranges&quot;</span>:</span><br><span class="line">      <span class="built_in">document</span>.write(<span class="string">&quot;Oranges are $0.59 a pound.&lt;br&gt;&quot;</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">   <span class="keyword">case</span> <span class="string">&quot;Apples&quot;</span>:</span><br><span class="line">      <span class="built_in">document</span>.write(<span class="string">&quot;Apples are $0.32 a pound.&lt;br&gt;&quot;</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">   <span class="keyword">case</span> <span class="string">&quot;Bananas&quot;</span>:</span><br><span class="line">      <span class="built_in">document</span>.write(<span class="string">&quot;Bananas are $0.48 a pound.&lt;br&gt;&quot;</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">   <span class="keyword">case</span> <span class="string">&quot;Cherries&quot;</span>:</span><br><span class="line">      <span class="built_in">document</span>.write(<span class="string">&quot;Cherries are $3.00 a pound.&lt;br&gt;&quot;</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">   <span class="keyword">case</span> <span class="string">&quot;Mangoes&quot;</span>:</span><br><span class="line">   <span class="keyword">case</span> <span class="string">&quot;Papayas&quot;</span>:</span><br><span class="line">      <span class="built_in">document</span>.write(<span class="string">&quot;Mangoes and papayas are $2.79 a pound.&lt;br&gt;&quot;</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">   <span class="keyword">default</span>:</span><br><span class="line">      <span class="built_in">document</span>.write(<span class="string">&quot;Sorry, we are out of &quot;</span> + fruittype + <span class="string">&quot;.&lt;br&gt;&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">&quot;Is there anything else you&#x27;d like?&lt;br&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="异常处理语句"><a href="#异常处理语句" class="headerlink" title="异常处理语句"></a>异常处理语句</h3><p>你可以用 throw 语句抛出一个异常并且用 try…catch 语句捕获处理它。</p>
<ol>
<li>throw 语句<br>使用throw语句抛出一个异常。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> expresstion;</span><br><span class="line"><span class="keyword">throw</span> <span class="string">&quot;Error2&quot;</span>;   <span class="comment">// String type</span></span><br><span class="line"><span class="keyword">throw</span> <span class="number">42</span>;         <span class="comment">// Number type</span></span><br><span class="line"><span class="keyword">throw</span> <span class="literal">true</span>;       <span class="comment">// Boolean type</span></span><br><span class="line"><span class="keyword">throw</span> &#123;<span class="attr">toString</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="string">&quot;I&#x27;m an object!&quot;</span>; &#125; &#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>try…catch 语句<br>try…catch 语句标记一块待尝试的语句，并规定一个以上的响应应该有一个异常被抛出。如果我们抛出一个异常，try…catch语句就捕获它。<br>下面的例子使用了try…catch语句。示例调用了一个函数用于从一个数组中根据传递值来获取一个月份名称。如果该值与月份数值不相符，会抛出一个带有”InvalidMonthNo”值的异常，然后在捕捉块语句中设monthName变量为unknown。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getMonthName</span>(<span class="params">mo</span>)</span>&#123;</span><br><span class="line">    mo=mo-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> months=[<span class="string">&quot;Jan&quot;</span>,<span class="string">&quot;Feb&quot;</span>,<span class="string">&quot;Mar&quot;</span>,<span class="string">&quot;Apr&quot;</span>,<span class="string">&quot;May&quot;</span>,<span class="string">&quot;Jun&quot;</span>,<span class="string">&quot;Jul&quot;</span>,<span class="string">&quot;Aug&quot;</span>,<span class="string">&quot;Sep&quot;</span>,<span class="string">&quot;Oct&quot;</span>,<span class="string">&quot;Nov&quot;</span>,<span class="string">&quot;Dec&quot;</span>];</span><br><span class="line">    <span class="keyword">if</span>(months[mo])&#123;</span><br><span class="line">        <span class="keyword">return</span> months[mo];</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="string">&quot;InvalidMonthNo&quot;</span>;<span class="comment">//throw keyword is used here</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123; <span class="comment">// statements to try</span></span><br><span class="line">  monthName = getMonthName(myMonth); <span class="comment">// function could throw exception</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  monthName = <span class="string">&quot;unknown&quot;</span>;</span><br><span class="line">  logMyErrors(e); <span class="comment">// pass exception object to error handler -&gt; your own function</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>catch块<br>可以使用catch块来处理所有可能在try块中产生的异常。</li>
<li>finally块<br>finally块包含了在try和catch块完成后、下面接着try…catch的语句之前执行的语句。finally块无论是否抛出异常都会执行。如果抛出了一个异常，就算没有异常处理，finally块里的语句也会执行。</li>
</ul>
<p>你可以用finally块来令你的脚本在异常发生时优雅地退出；举个例子，你可能需要在绑定的脚本中释放资源。接下来的例子用文件处理语句打开了一个文件（服务端的JavaScript允许你进入文件）。如果在文件打开时一个异常抛出，finally块会在脚本错误之前关闭文件。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">openMyFile();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    writeMyFile(theData); <span class="comment">//This may throw a error</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">    handleError(e); <span class="comment">// If we got a error we handle it</span></span><br><span class="line">&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">    closeMyFile(); <span class="comment">// always close the resource</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="异常类型"><a href="#异常类型" class="headerlink" title="异常类型"></a>异常类型</h4><p>Javascript可以抛出任意对象。常见的异常有：</p>
<ul>
<li>ReferenceError 无效引用</li>
<li>SyntaxError  eval()在解析代码过程中发生语法错误</li>
<li>EvalError 与eval()有关</li>
<li>InternalError 递归太多</li>
<li>RangeError 数值变量或参数超过有效范围</li>
<li>TypeError 变量或者参数不属于有效类型</li>
<li>URIError 给encodeURI()或者decodeURI()传递的参数无效</li>
<li>DOMException and DOMError</li>
</ul>
<h2 id="循环与迭代"><a href="#循环与迭代" class="headerlink" title="循环与迭代"></a>循环与迭代</h2><p>循环语句：</p>
<ul>
<li><p>for</p>
</li>
<li><p>do…while</p>
</li>
<li><p>while</p>
</li>
<li><p>break</p>
</li>
<li><p>continue</p>
</li>
<li><p>for…in</p>
</li>
<li><p>for …of</p>
</li>
</ul>
<ol>
<li>for语句<br>一个 for 循环会一直重复执行，直到指定的循环条件为 false。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ([initialExpression]; [condition]; [incrementExpression])&#123;</span><br><span class="line">    statement;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br></pre></td></tr></table></figure>

<p>当一个 for 循环执行的时候，会发生以下过程：</p>
<ul>
<li>如果有初始化表达式 initialExpression，它将被执行。这个表达式通常会初始化一个或多个循环计数器，但语法上是允许一个任意复杂度的表达式的。这个表达式也可以声明变量。</li>
<li>计算 condition 表达式的值。如果 condition 的值是 true，循环中的语句会被执行。如果 condition 的值是 false，for 循环终止。如果 condition 表达式整个都被省略掉了，condition的值会被认为是true。</li>
<li>循环中的 statement 被执行。如果需要执行多条语句，可以使用块（{ … }）来包裹这些语句。</li>
<li>如果有更新表达式 incrementExpression，执行更新表达式。</li>
<li>回到步骤 2。</li>
</ul>
<ol start="2">
<li>do…while语句<br>do…while语句一直重复直到指定的条件求值得到假值(false)。do循环至少重复一次。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">  i += <span class="number">1</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125; <span class="keyword">while</span> (i &lt; <span class="number">5</span>);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>while语句<br>一个while语句只要指定的条件求值为真true就会一直执行它的语句块。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 只要 n 小于 3，下面的 while 循环就会一直执行：</span></span><br><span class="line"><span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (n &lt; <span class="number">3</span>) &#123;</span><br><span class="line">  n++;</span><br><span class="line">  x += n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>for…in<br>for…in语句循环一个指定的变量来循环一个对象中所有的可枚举属性。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">a</span>:<span class="number">1</span>, <span class="attr">b</span>:<span class="number">2</span>, <span class="attr">c</span>:<span class="number">3</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> prop <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&quot;obj.&quot;</span> + prop + <span class="string">&quot; = &quot;</span> + obj[prop]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// &quot;obj.a = 1&quot;</span></span><br><span class="line"><span class="comment">// &quot;obj.b = 2&quot;</span></span><br><span class="line"><span class="comment">// &quot;obj.c = 3&quot;</span></span><br></pre></td></tr></table></figure>

<p>注意：继承的属性不可被迭代，不显示</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> triangle = &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">3</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ColoredTriangle</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">this</span>.color = <span class="string">&#x27;red&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ColoredTriangle.prototype = triangle;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> ColoredTriangle();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> prop <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="keyword">if</span> (obj.hasOwnProperty(prop)) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`obj.<span class="subst">$&#123;prop&#125;</span> = <span class="subst">$&#123;obj[prop]&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Output:</span></span><br><span class="line"><span class="comment">// &quot;obj.color = red&quot;</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>for…of<br>for…of语句在可迭代对象（Array,Map,Set,arguments等）上创建了一个循环，对值的每个独特属性调用迭代。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> element <span class="keyword">of</span> array1) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(element);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// expected output: &quot;a&quot;</span></span><br><span class="line"><span class="comment">// expected output: &quot;b&quot;</span></span><br><span class="line"><span class="comment">// expected output: &quot;c&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="for…of-与for…in的区别"><a href="#for…of-与for…in的区别" class="headerlink" title="for…of 与for…in的区别"></a>for…of 与for…in的区别</h4><p>for…in:循环遍历的结果是数组元素的下标<br>for…of：循环遍历的是元素的值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>];</span><br><span class="line">arr.foo = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> arr) &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(i); <span class="comment">// 输出 &quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;foo&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> arr) &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(i); <span class="comment">// 输出 &quot;3&quot;, &quot;5&quot;, &quot;7&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 注意 for...of 的输出没有出现 &quot;hello&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="函数声明"><a href="#函数声明" class="headerlink" title="函数声明"></a>函数声明</h3><p>一个函数定义（也称为函数声明，或函数语句）由一系列的function关键字组成。注意函数声明同变量声明一样，会被声明提升。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunc</span>(<span class="params">theObject</span>) </span>&#123;</span><br><span class="line">  theObject.make = <span class="string">&quot;Toyota&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> mycar = &#123;<span class="attr">make</span>: <span class="string">&quot;Honda&quot;</span>, <span class="attr">model</span>: <span class="string">&quot;Accord&quot;</span>, <span class="attr">year</span>: <span class="number">1998</span>&#125;;</span><br><span class="line"><span class="keyword">var</span> x, y;</span><br><span class="line">x = mycar.make;     <span class="comment">// x获取的值为 &quot;Honda&quot;</span></span><br><span class="line">myFunc(mycar);</span><br><span class="line">y = mycar.make;     <span class="comment">// y获取的值为 &quot;Toyota&quot;</span></span><br><span class="line">                    <span class="comment">// (make属性被函数改变了)</span></span><br></pre></td></tr></table></figure>

<h3 id="函数表达式"><a href="#函数表达式" class="headerlink" title="函数表达式"></a>函数表达式</h3><p>函数表达式可以是匿名，也可以是提供函数名。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> factorial = <span class="function"><span class="keyword">function</span> <span class="title">fac</span>(<span class="params">n</span>) </span>&#123;<span class="keyword">return</span> n&lt;<span class="number">2</span> ? <span class="number">1</span> : n*fac(n-<span class="number">1</span>)&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(factorial(<span class="number">3</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> square = <span class="function"><span class="keyword">function</span>(<span class="params">number</span>) </span>&#123; <span class="keyword">return</span> number * number; &#125;;</span><br><span class="line"><span class="keyword">var</span> x = square(<span class="number">4</span>); <span class="comment">// x gets the value 16</span></span><br></pre></td></tr></table></figure>

<h3 id="this指向，bind-apply-call的区别"><a href="#this指向，bind-apply-call的区别" class="headerlink" title="this指向，bind apply call的区别"></a>this指向，bind apply call的区别</h3><p>在Javascript中，call和apply、bind都是为了改变某个函数运行时的上下文(context)。也就是为了改变函数体内部的this指向。函数存在定义时上下文，运行时上下文和上下文是可以改变的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fruit</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">fruit.prototype=&#123;</span><br><span class="line">    <span class="attr">color</span>:<span class="string">&#x27;red&#x27;</span>,</span><br><span class="line">    <span class="attr">say</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;My color is&quot;</span>+<span class="built_in">this</span>.color);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> apple =<span class="keyword">new</span> fruits;</span><br><span class="line">apple.say(); <span class="comment">//My color is red</span></span><br></pre></td></tr></table></figure>

<p>通过call、apply、bind修改绑定的对象：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">banana=&#123;</span><br><span class="line">    <span class="attr">color</span>:<span class="string">&quot;yellow&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">apply.say();<span class="comment">//My color is red this指向global.windows 严格模式下，this 的值将会是 undefined</span></span><br><span class="line">apply.say.call(banana);<span class="comment">//My color is yellow</span></span><br><span class="line">apply.say.bind(banana);<span class="comment">//My color is yellow</span></span><br><span class="line">apply.say.apply(banana);<span class="comment">//My color is yellow</span></span><br></pre></td></tr></table></figure>

<h4 id="bind详解"><a href="#bind详解" class="headerlink" title="bind详解"></a>bind详解</h4><p>bind()方法创建一个新的函数，在bind()被调用时，这个新函数this被指向第一个参数，其余参数作为新函数的参数，调用时使用。<br><code>function.bind(thisArg[,arg1,...,argN])</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.x=<span class="number">9</span>;    <span class="comment">// 在浏览器中，this 指向全局的 &quot;window&quot; 对象</span></span><br><span class="line"><span class="keyword">var</span> <span class="built_in">module</span>=&#123;</span><br><span class="line">    <span class="attr">x</span>:<span class="number">81</span>,</span><br><span class="line">    <span class="attr">getX</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.getX();<span class="comment">//81</span></span><br><span class="line"><span class="keyword">var</span> retrieveX=<span class="built_in">module</span>.getX;</span><br><span class="line">retrieveX();<span class="comment">//9 因为this指向不明，函数为全局作用域调用，则this指向全局window</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建新函数，将this绑定到module对象  </span></span><br><span class="line"><span class="keyword">var</span> boundGetX=retrieveX.bind(<span class="built_in">module</span>);</span><br><span class="line">boundGetX();<span class="comment">//81</span></span><br></pre></td></tr></table></figure>

<h4 id="apply-call常见的使用用法"><a href="#apply-call常见的使用用法" class="headerlink" title="apply call常见的使用用法"></a>apply call常见的使用用法</h4><ul>
<li>数组之间追加</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1=[<span class="number">12</span>,<span class="string">&quot;foo&quot;</span>,&#123;<span class="attr">name</span>:<span class="string">&quot;joe&quot;</span>&#125;,-<span class="number">233</span>];</span><br><span class="line"><span class="keyword">var</span> arr2=[<span class="string">&quot;Doe&quot;</span>,<span class="number">555</span>,<span class="number">100</span>];</span><br><span class="line"><span class="built_in">Array</span>.prototype.push.apply(arr1,arr2);</span><br></pre></td></tr></table></figure>

<ul>
<li>获取数组中的最大值和最小值<br> number 本身没有 max 方法，但是 Math 有，我们就可以借助 call 或者 apply 使用其方法。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">7</span>];</span><br><span class="line"><span class="keyword">const</span> max = <span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, numbers);</span><br><span class="line"><span class="built_in">console</span>.log(max);</span><br><span class="line"><span class="comment">// expected output: 7</span></span><br><span class="line"><span class="keyword">const</span> min = <span class="built_in">Math</span>.min.call(<span class="literal">null</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">7</span>);</span><br><span class="line"><span class="built_in">console</span>.log(min);</span><br><span class="line"><span class="comment">// expected output: 2</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>验证是否是数组(前提是toString()方法没有被重写):使用call调用函数指定上下文this</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isArray</span>(<span class="params">obj</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(obj)===<span class="string">&quot;[object Array]&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>类伪数组使用数组方法<br>Javascript中存在一种名为伪数组的对象结构。比较特别的是arguments对象，还有调用getElementByTagName,document.childNodes之类，返回NodeList对象属于伪数组。正常不能应用Array的方法，我们可以通过Array.prototype.slice.call转换为真正的数组的带有length属性的对象，这样domNodes就可以应用Array下的所有方法。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> domNodes=<span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">document</span>.getElementByTagName(<span class="string">&quot;*&quot;</span>));</span><br></pre></td></tr></table></figure></li>
<li><p>使用call方法调用函数并且不指定第一个参数(argument):<br>如果this没有指定对象，默认this被绑定为全局对象，gloal.windows</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sData = <span class="string">&#x27;Wisen&#x27;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">display</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;sData value is %s &#x27;</span>, <span class="built_in">this</span>.sData);</span><br><span class="line">&#125;</span><br><span class="line">display.call();  <span class="comment">// sData value is Wisen</span></span><br></pre></td></tr></table></figure>

<p>注意：在严格模式下，this 的值将会是 undefined。见下文。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> sData = <span class="string">&#x27;Wisen&#x27;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">display</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;sData value is %s &#x27;</span>, <span class="built_in">this</span>.sData);</span><br><span class="line">&#125;</span><br><span class="line">display.call(); <span class="comment">// Cannot read the property of &#x27;sData&#x27; of undefined</span></span><br></pre></td></tr></table></figure>

<h4 id="bind的常见用法"><a href="#bind的常见用法" class="headerlink" title="bind的常见用法"></a>bind的常见用法</h4><ul>
<li>创建绑定函数<br>创建一个函数，不论怎么调用，这个函数都有同样的this值。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="built_in">module</span> = &#123;</span><br><span class="line">  <span class="attr">x</span>: <span class="number">42</span>,</span><br><span class="line">  <span class="attr">getX</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.x;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> unboundGetX = <span class="built_in">module</span>.getX;</span><br><span class="line"><span class="built_in">console</span>.log(unboundGetX()); <span class="comment">// The function gets invoked at the global scope</span></span><br><span class="line"><span class="comment">// expected output: undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> boundGetX = unboundGetX.bind(<span class="built_in">module</span>);</span><br><span class="line"><span class="built_in">console</span>.log(boundGetX());</span><br><span class="line"><span class="comment">// expected output: 42</span></span><br></pre></td></tr></table></figure>

<ul>
<li>偏函数：将一个函数拥有预设的初始参数。只要将这些参数作为bind()的参数写在this后面。当绑定函数被调用时，这些参数就会被参入到目标函数的参数列表的开始位置，传递给绑定函数的参数也会跟在它们的后面。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">list</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addArguments</span>(<span class="params">arg1,arg2</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arg1+arg2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> list1=list(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);<span class="comment">//[1,2,3]</span></span><br><span class="line"><span class="keyword">var</span> result1=addArguments(<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个函数，它拥有预设的参数列表</span></span><br><span class="line"><span class="keyword">var</span> leadingThirtysevenList=list.bind(<span class="literal">null</span>,<span class="number">37</span>);</span><br><span class="line"><span class="comment">// 创建一个函数，它拥有预设的第一个参数</span></span><br><span class="line"><span class="keyword">var</span> addThirtySeven=addArguments.bind(<span class="literal">null</span>,<span class="number">37</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> list2=leadingThirtysevenList();<span class="comment">// [37]</span></span><br><span class="line"><span class="keyword">var</span> list2=leadingThirtysevenList(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);<span class="comment">// [37, 1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result2=addThirtySeven(<span class="number">5</span>);<span class="comment">//37+5=42</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result3 = addThirtySeven(<span class="number">5</span>, <span class="number">10</span>);</span><br><span class="line"><span class="comment">// 37 + 5 = 42 ，第二个参数被忽略</span></span><br></pre></td></tr></table></figure>

<ul>
<li>配合setTimeout<br>在默认情况下，使用window.setTimeout()时，this关键字会指向window或者(global)对象。当类的方法中需要this指向类的实例时，需要显式地将this绑定到回调函数，就不会丢失该实例的引用。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">LateBloomer</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.petalCount=<span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.random()*<span class="number">12</span>)+<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 一秒钟后声明bloom</span></span><br><span class="line">LateBloomer.prototype.bloom=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">window</span>.setTimeout(<span class="built_in">this</span>.declare.bind(<span class="built_in">this</span>),<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LateBloomer.prototype.declare=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;I am a beautiful flower with&quot;</span>+<span class="built_in">this</span>.petalCount+<span class="string">&quot;petals&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> flower=<span class="keyword">new</span> LateBloomer();</span><br><span class="line">flower.bloom();<span class="comment">//I am a beautiful flower with 4 petals  一秒后执行declare方法</span></span><br></pre></td></tr></table></figure>

<ul>
<li>作为构造函数使用绑定函数<br>绑定函数自动适应于使用new操作符去构造一个由目标函数创建的新实例。当一个绑定函数是用来构建一个值的，原来提供的this就会被忽略。不过提供的参数列表依然会插入到构造函数调用时的参数列表之前。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Point</span>(<span class="params">x,y</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.x=x;</span><br><span class="line">    <span class="built_in">this</span>.y=y;</span><br><span class="line">&#125;</span><br><span class="line">Point.prototype.toString=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.x+<span class="string">&#x27;,&#x27;</span>+<span class="built_in">this</span>.y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p=<span class="keyword">new</span> Point(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">p.toString();<span class="comment">//&quot;1,2&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> emptyObj=&#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> YAxisPoint=Point.bind(emptyObj,<span class="number">0</span><span class="comment">/*x*/</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*（译注：polyfill 的 bind 方法中，如果把 bind 的第一个参数加上，</span></span><br><span class="line"><span class="comment">即对新绑定的 this 执行 Object(this)，包装为对象，</span></span><br><span class="line"><span class="comment">因为 Object(null) 是 &#123;&#125;，所以也可以支持）*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> axisPoint=<span class="keyword">new</span> YAxisPoint(<span class="number">5</span>);</span><br><span class="line">axisPoint.toString();<span class="comment">//&quot;0.5&quot;</span></span><br><span class="line"></span><br><span class="line">axisPoint <span class="keyword">instanceof</span> Point; <span class="comment">// true</span></span><br><span class="line">axisPoint <span class="keyword">instanceof</span> YAxisPoint; <span class="comment">// true</span></span><br><span class="line"><span class="keyword">new</span> YAxisPoint(<span class="number">17</span>, <span class="number">42</span>) <span class="keyword">instanceof</span> Point; <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>面试题：<br>定义log函数，代理console.log方法。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">funciton <span class="function"><span class="title">log</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log.apply(<span class="built_in">console</span>,<span class="built_in">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line">当传入的参数个数不确定时，可以使用<span class="built_in">arguments</span>为类参数对象来接收不确定的参数，推荐使用apply</span><br></pre></td></tr></table></figure>

<p>给每个log消息添加前缀”(app)”。arguments参数是个伪数组，通过Array.prototype.slice.call转化为标准数组，再使用数组方法unshift添加前缀。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> args=<span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">    args.unshift(<span class="string">&#x27;(app)&#x27;</span>);</span><br><span class="line">    <span class="built_in">console</span>.log.apply(<span class="built_in">console</span>,args);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="call、apply的区别"><a href="#call、apply的区别" class="headerlink" title="call、apply的区别"></a>call、apply的区别</h4><p>call、apply的区别主要是参数不同。call 需要把参数按顺序传递进去(参数列表)，而 apply 则是把参数放在数组里(参数数组或者类数组对象)。　　</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> func=<span class="function"><span class="keyword">function</span>(<span class="params">arg1,arg2</span>)</span>&#123;&#125;</span><br><span class="line">func.call(<span class="built_in">this</span>,arg1,arg2);</span><br><span class="line">func.apply(<span class="built_in">this</span>,[arg1,arg2])</span><br></pre></td></tr></table></figure>

<h4 id="call-apply-bind的区别"><a href="#call-apply-bind的区别" class="headerlink" title="call apply bind的区别"></a>call apply bind的区别</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">    <span class="attr">x</span>:<span class="number">81</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> foo=&#123;</span><br><span class="line">    <span class="attr">getX</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(foo.getX.bind(obj)());<span class="comment">//81</span></span><br><span class="line"><span class="built_in">console</span>.log(foo.getX.call(obj));<span class="comment">//81</span></span><br><span class="line"><span class="built_in">console</span>.log(foo.getX.apply(obj));<span class="comment">//81</span></span><br></pre></td></tr></table></figure>

<p>注意看使用 bind() 方法的，他后面多了对括号。<br>bind与call apply的区别是：改变上下文环境之后并非立即执行，而是回调的时候执行，应该使用bind()方法。apply、call都是立即执行函数。<br>总结如下：</p>
<ul>
<li>apply call bind 三者都是用来改变函数this对象的指向</li>
<li>apply call bind 三者的第一个参数都是this要指向的对象，即指定的上下文</li>
<li>apply call bind 三者都可以利用后续参数传参</li>
<li>bind是返回新的函数，便于后续调用使用;apply call 则是立即调用</li>
</ul>
<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><p>闭包：在一个函数里面嵌套另外一个函数。由于内部函数可以访问外部函数的作用域，因此当内部函数生存周期大于外部函数时，外部函数中定义的变量和函数的生存周期将比内部函数执行事件长。所以，内部函数可以在自身之外的作用域执行，则该为闭包。<br>闭包总结如下：</p>
<ul>
<li>内部函数可以在外部函数中访问</li>
<li>内部函数形成了一个闭包：它可以访问外部函数的参数和变量，但是外部函数不能使用内部函数的参数和变量</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> createPet=<span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> sex;</span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">        <span class="attr">setName</span>:<span class="function"><span class="keyword">function</span>(<span class="params">newName</span>)</span>&#123;</span><br><span class="line">            name=newName;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="attr">getName</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> name;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="attr">getSex</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> sex;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="attr">setSex</span>:<span class="function"><span class="keyword">function</span>(<span class="params">newSex</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">typeof</span>  newSex==<span class="string">&quot;string&quot;</span>&amp;&amp; (newSex.toLowerCase()==<span class="string">&quot;male&quot;</span>||newSex.toLowerCase()==<span class="string">&quot;female&quot;</span>))&#123;</span><br><span class="line">                sex=newSex;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pet=createPet(<span class="string">&quot;vivie&quot;</span>);</span><br><span class="line">pet.getName();</span><br><span class="line">pet.setName(<span class="string">&quot;Oliver&quot;</span>);</span><br><span class="line">pet.setSex(<span class="string">&quot;male&quot;</span>);</span><br><span class="line">pet.getSex();<span class="comment">//male</span></span><br><span class="line">pet.getName();<span class="comment">//Oliver</span></span><br></pre></td></tr></table></figure>

<h2 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h2><p>箭头函数两个作用：更简洁的函数和this(<strong>当箭头函数中this没有指向的时候，会向上级查找this指向，如果是普通函数，则this没有指向的话，则为window</strong>)<br>注意:箭头函数为匿名函数</p>
<h3 id="更简洁的函数"><a href="#更简洁的函数" class="headerlink" title="更简洁的函数"></a>更简洁的函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[</span><br><span class="line">    <span class="string">&quot;Hydrogen&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Helium&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Lithium&quot;</span>,</span><br><span class="line">    <span class="string">&quot;Beryllium&quot;</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a2=a.map(<span class="function"><span class="keyword">function</span>(<span class="params">s</span>)</span>&#123;<span class="keyword">return</span> s.length&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(a2);<span class="comment">// logs [ 8, 6, 7, 9 ]</span></span><br><span class="line"><span class="keyword">var</span> a3=a.map(<span class="function"><span class="params">s</span>=&gt;</span>s.length);</span><br><span class="line"><span class="built_in">console</span>.log(a3);<span class="comment">// logs [ 8, 6, 7, 9 ]</span></span><br></pre></td></tr></table></figure>

<h3 id="this-的词法"><a href="#this-的词法" class="headerlink" title="this 的词法"></a>this 的词法</h3><p>箭头函数出现之前，每个新的函数都需要重新定义自己的this，否则构造函数中的对象方法会指向全局对象。严格模式下，this为undefined</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//构造函数Person()将this定义为Person本身</span></span><br><span class="line">    <span class="built_in">this</span>.age=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> <span class="title">growUp</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">// 在非严格模式下，growUp()函数将this指向全局对象window，</span></span><br><span class="line">        <span class="comment">// 这与Person()中的this不同，按预期growUp()this应该指向Person</span></span><br><span class="line">        <span class="built_in">this</span>.age++;</span><br><span class="line">    &#125;,<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p=<span class="keyword">new</span> Person();</span><br></pre></td></tr></table></figure>

<p>在ES5中，通过把this的值赋值给一个变量修复对象方法this绑定错误的问题</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> self=<span class="built_in">this</span>;<span class="comment">//有的人习惯使用that替换self</span></span><br><span class="line">    self.age=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span> <span class="title">growUp</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        self.age++;</span><br><span class="line">    &#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在ES6+中，可以通过箭头函数捕捉闭包中的∏可以解决this绑定错误问题。当箭头函数中this没有指向的时候，会向上级作用域查找this指向。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.age=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.age++;<span class="comment">// 这里的`this`正确地指向person对象</span></span><br><span class="line">    &#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p=<span class="keyword">new</span> Person();</span><br></pre></td></tr></table></figure>

<h2 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h2><h3 id="短路求值"><a href="#短路求值" class="headerlink" title="短路求值"></a>短路求值</h3><ul>
<li>false &amp;&amp; anything  左边的值布尔转换为false，则返回左边的值；否则返回右边的值</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">0</span> &amp;&amp; <span class="number">6</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//返回的结果为 0</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">5</span> &amp;&amp; <span class="number">6</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//返回的结果为 6</span></span><br></pre></td></tr></table></figure>

<ul>
<li>true || anything  左边的值布尔转换为true，则返回左边的值；否则返回右边的值</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">0</span> || <span class="number">6</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//返回的结果为 6</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">5</span> || <span class="number">6</span>;</span><br><span class="line"><span class="built_in">console</span>.log(a); <span class="comment">//返回的结果为 5</span></span><br></pre></td></tr></table></figure>

<h2 id="垃圾回收器"><a href="#垃圾回收器" class="headerlink" title="垃圾回收器"></a>垃圾回收器</h2><p>Javascript具有自动垃圾收集机制，执行环境会负责管理代码执行过程中使用的内存。而c/c++需要开发人员手动跟踪和分配内存。垃圾收集器跟踪变量是否有用，对于不再有用的变量打上标记，以备将来收回其占用的内存。浏览器标记的方式一般有两种：</p>
<ul>
<li>标记消除</li>
</ul>
<p>当变量进入环境时，变量就被标记为“进入环境”；当变量离开环境时，则标记为“离开环境”。垃圾收集器在运行的时候会给存储在内存中的所有变量都加上标记，然后，它会去掉环境中的变量以及被环境中的变量引用的标记。被加上标记的变量会将视为准备删除的变量，原因是环境中的变量已经无法访问到这些变量了。最后，垃圾收集器完成内存清除工作，销毁那些标记的值并回收他们所占有的内存空间。</p>
<ul>
<li>引用计数</li>
</ul>
<p>跟踪记录每个值被引用的次数。当声明了一个变量并将一个应用类型值赋给该变量时，该值的引用次数为1。当该值的引用次数变成0时，就说明没办法再引用该值了，因而就可以将其占有的内存空间回收。这样，当垃圾回收器下次在运行时，就会释放这些引用次数为0的值所占用的内存。</p>
<p>内存的优化处理如下：<br>使用解除变量的引用，其作用是有助于消除循环引用现象，并且对垃圾收集有好处，可以确保有效地回收内存，</p>
<h2 id="引用类型"><a href="#引用类型" class="headerlink" title="引用类型"></a>引用类型</h2><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p>数组Array是一个有序的数据集合，可以通过数组名称name和索引index进行访问。</p>
<h3 id="遍历数组"><a href="#遍历数组" class="headerlink" title="遍历数组"></a>遍历数组</h3><ul>
<li>for遍历</li>
<li>forEach()遍历数组元素</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// for循环</span></span><br><span class="line"><span class="keyword">var</span> divs=<span class="built_in">document</span>.getElementsByTagName(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>,div;div=divs[i];i++)&#123;</span><br><span class="line">      <span class="comment">/* Process div in some way */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// forEach()遍历</span></span><br><span class="line"><span class="keyword">var</span> colors=[<span class="string">&quot;red&quot;</span>,<span class="string">&quot;green&quot;</span>,<span class="string">&quot;blue&quot;</span>];</span><br><span class="line">colors.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">color</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(color);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="数组的方法"><a href="#数组的方法" class="headerlink" title="数组的方法"></a>数组的方法</h3><ul>
<li><p>concat()  连接两个数组并返回一个新的数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myArray=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;3&quot;</span>);</span><br><span class="line">myArray=myArray.concat(<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>);<span class="comment">//myArray is now [&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]</span></span><br></pre></td></tr></table></figure></li>
<li><p>join()  将数组的所有元素连接成一个字符串</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myArray=<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">&quot;Wind&quot;</span>,<span class="string">&quot;Rain&quot;</span>,<span class="string">&quot;Fire&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> list=myArray.join(<span class="string">&quot;-&quot;</span>);<span class="comment">//list is &quot;Wind - Rain - Fire&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>push()  在数组末尾添加一个或者多个元素  并返回数组操作后的长度</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myArray = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>);</span><br><span class="line">myArray.push(<span class="string">&quot;3&quot;</span>); <span class="comment">// myArray is now [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>pop()   将数组移除最后一个元素  并返回该元素</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myArray = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> last = myArray.pop();</span><br><span class="line"><span class="comment">// myArray is now [&quot;1&quot;, &quot;2&quot;], last = &quot;3&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>shift() 从数组移除第一个元素   并返回该元素</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myArray = <span class="keyword">new</span> <span class="built_in">Array</span> (<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> first = myArray.shift();</span><br><span class="line"><span class="comment">// myArray is now [&quot;2&quot;, &quot;3&quot;], first is &quot;1&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>unshift()  在数组开头添加一个或者多个元素并返回数组的新长度</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myArray = <span class="keyword">new</span> <span class="built_in">Array</span> (<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>);</span><br><span class="line">myArray.unshift(<span class="string">&quot;4&quot;</span>, <span class="string">&quot;5&quot;</span>);</span><br><span class="line"><span class="comment">// myArray becomes [&quot;4&quot;, &quot;5&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>slice(startIndex,upto_index)  从数组提取一个片段 并作为新数组返回</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myArray = <span class="keyword">new</span> <span class="built_in">Array</span> (<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;e&quot;</span>);</span><br><span class="line">myArray = myArray.slice(<span class="number">1</span>, <span class="number">4</span>); <span class="comment">// 包含索引1，不包括索引4</span></span><br><span class="line">                               <span class="comment">// returning [ &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>splice(index,count_to_remove,addElement1,addElement2,…)从数组移出一些元素，（可选）并替换它们。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myArray = <span class="keyword">new</span> <span class="built_in">Array</span> (<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>, <span class="string">&quot;4&quot;</span>, <span class="string">&quot;5&quot;</span>);</span><br><span class="line">myArray.splice(<span class="number">1</span>, <span class="number">3</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>);</span><br><span class="line"><span class="comment">// myArray is now [&quot;1&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;5&quot;]</span></span><br><span class="line"><span class="comment">//从1开始(不包括1)往后的3个元素被移除，并且从中插入新增的元素</span></span><br></pre></td></tr></table></figure>

<ul>
<li>reverse() 颠倒数组元素的顺序：第一个变成最后一个   最后一个变成第一个</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myArray = <span class="keyword">new</span> <span class="built_in">Array</span> (<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>);</span><br><span class="line">myArray.reverse();</span><br><span class="line"><span class="comment">// transposes the array so that myArray = [ &quot;3&quot;, &quot;2&quot;, &quot;1&quot; ]</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>sort()  给数组元素排序;也可以带一个回调函数来决定怎么比较数组元素。这个回调函数比较两个值，并返回3个值中的一个。<br> 比较函数的升序函数:</p>
<ul>
<li><p>如果 a 小于 b ，返回 -1(或任何负数)</p>
</li>
<li><p>如果 a 大于 b ，返回 1 (或任何正数)</p>
</li>
<li><p>如果 a 和 b 相等，返回 0。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compareFunction</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (a &lt; b ) &#123;           <span class="comment">// 按某种排序标准进行比较, a 小于 b</span></span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (a &gt; b ) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// a must be equal to b</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>如果 compareFunction(a, b) 小于 0 ，那么 a 会被排列到 b 之前；</p>
</li>
<li><p>如果 compareFunction(a, b) 等于 0 ， a 和 b 的相对位置不变。备注： ECMAScript 标准并不保证这一行为，而且也不是所有浏览器都会遵守（例如 Mozilla 在 2003 年之前的版本）；</p>
</li>
<li><p>如果 compareFunction(a, b) 大于 0 ， b 会被排列到 a 之前。<br>compareFunction(a, b) 必须总是对相同的输入返回相同的比较结果，否则排序的结果将是不确定的。</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myArray = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">&quot;Wind&quot;</span>, <span class="string">&quot;Rain&quot;</span>, <span class="string">&quot;Fire&quot;</span>);</span><br><span class="line">myArray.sort();</span><br><span class="line"><span class="comment">// sorts the array so that myArray = [ &quot;Fire&quot;, &quot;Rain&quot;, &quot;Wind&quot; ]</span></span><br><span class="line"><span class="comment">// 下面的代码通过字符串的最后一个字母进行排序：</span></span><br><span class="line"><span class="keyword">var</span> sortFn = <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (a[a.length - <span class="number">1</span>] &lt; b[b.length - <span class="number">1</span>]) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">if</span> (a[a.length - <span class="number">1</span>] &gt; b[b.length - <span class="number">1</span>]) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">if</span> (a[a.length - <span class="number">1</span>] == b[b.length - <span class="number">1</span>]) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">myArray.sort(sortFn);</span><br><span class="line"><span class="comment">// sorts the array so that myArray = [&quot;Wind&quot;,&quot;Fire&quot;,&quot;Rain&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 比较数字  比较函数可以通过简单的a-b，将数组升序排列</span></span><br><span class="line"><span class="keyword">var</span> numbers = [<span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>];</span><br><span class="line">numbers.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b);</span><br><span class="line"><span class="built_in">console</span>.log(numbers);</span><br><span class="line"><span class="comment">// [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>indexOf(searchElemnt[,fromIndex]) 在数组中搜索searchElement并返回第一个匹配的索引</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;a&#x27;</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a.indexOf(<span class="string">&#x27;b&#x27;</span>)); <span class="comment">// logs 1</span></span><br><span class="line"><span class="comment">// Now try again, starting from after the last match</span></span><br><span class="line"><span class="built_in">console</span>.log(a.indexOf(<span class="string">&#x27;b&#x27;</span>, <span class="number">2</span>)); <span class="comment">// logs 3</span></span><br><span class="line"><span class="built_in">console</span>.log(a.indexOf(<span class="string">&#x27;z&#x27;</span>)); <span class="comment">// logs -1, because &#x27;z&#x27; was not found</span></span><br></pre></td></tr></table></figure>

<ul>
<li>lastIndexOf(searchElement[,fromIndex]) 和 indexOf 差不多，但这是从结尾开始，并且是反向搜索。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>];</span><br><span class="line"><span class="built_in">console</span>.log(a.lastIndexOf(<span class="string">&#x27;b&#x27;</span>)); <span class="comment">// logs 5</span></span><br><span class="line"><span class="comment">// Now try again, starting from before the last match</span></span><br><span class="line"><span class="built_in">console</span>.log(a.lastIndexOf(<span class="string">&#x27;b&#x27;</span>, <span class="number">4</span>)); <span class="comment">// logs 1</span></span><br><span class="line"><span class="built_in">console</span>.log(a.lastIndexOf(<span class="string">&#x27;z&#x27;</span>)); <span class="comment">// logs -1</span></span><br></pre></td></tr></table></figure>

<ul>
<li>forEach(callback[,this.object])在数组每个元素项上执行callback回调函数</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line">a.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">element</span>) </span>&#123; <span class="built_in">console</span>.log(element);&#125; );</span><br><span class="line"><span class="comment">// logs each item in turn</span></span><br></pre></td></tr></table></figure>

<ul>
<li>map(callback[,thisObject])遍历数组，并通过callback对数组元素进行操作，并将所有操作结果放入数组中并返回该数组,原数组不变。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a1 = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"><span class="keyword">var</span> a2 = a1.map(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123; <span class="keyword">return</span> item.toUpperCase(); &#125;);</span><br><span class="line"><span class="built_in">console</span>.log(a2); <span class="comment">// log  [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]</span></span><br><span class="line"><span class="built_in">console</span>.log(a1);<span class="comment">//log  [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>filter(callback[,thisObject])  callback进行数据过滤，当元素符合条件时，过滤器就返回true,filter则是返回符合过滤条件的新数组，原数组不变。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a1 = [<span class="string">&#x27;a&#x27;</span>, <span class="number">10</span>, <span class="string">&#x27;b&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;c&#x27;</span>, <span class="number">30</span>];</span><br><span class="line"><span class="keyword">var</span> a2 = a1.filter(<span class="function"><span class="keyword">function</span>(<span class="params">item</span>) </span>&#123; <span class="keyword">return</span> <span class="keyword">typeof</span> item == <span class="string">&#x27;number&#x27;</span>; &#125;);</span><br><span class="line"><span class="built_in">console</span>.log(a2); <span class="comment">// logs 10,20,30</span></span><br></pre></td></tr></table></figure>

<ul>
<li>reduce(callback[,thisObject])数组元素两两递归处理的方式把数组计算成一个值</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a=[<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>];</span><br><span class="line"><span class="keyword">var</span> total=a.reduce(<span class="function">(<span class="params">first,second</span>)=&gt;</span>first+second),<span class="number">0</span>);</span><br><span class="line"><span class="built_in">console</span>.log(total) <span class="comment">// Prints 60</span></span><br></pre></td></tr></table></figure>

<h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><p>在javascript中，一个对象可以是一个单独的拥有属性和类型的实体。<br>ES中Object有两种属性：数据属性和访问器属性</p>
<ol>
<li>数据属性:4个描述其行为的特性。</li>
</ol>
<ul>
<li>[[Configurable]]: 是否删除其属性的特性。默认值为true</li>
<li>[[Enumerable]]:是否通过for-in 遍历返回属性。默认为true</li>
<li>[[Writable]]: 能否修改属性的值。默认为true</li>
<li>[[Value]]:这个属性的值。默认为undefined<br>可使用ES5中的Object.defineProperty()修改属性的默认值。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person=&#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person,<span class="string">&quot;name&quot;</span>,&#123;</span><br><span class="line">    <span class="attr">configurable</span>:<span class="literal">false</span>,</span><br><span class="line">    <span class="attr">enumerable</span>:<span class="literal">true</span>,</span><br><span class="line">    <span class="attr">writable</span>:<span class="literal">false</span>,</span><br><span class="line">    <span class="attr">value</span>:<span class="string">&quot;chris&quot;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(person.name);<span class="comment">//chris</span></span><br><span class="line">person.name=<span class="string">&quot;kris&quot;</span>;</span><br><span class="line"><span class="keyword">delete</span> person.name;</span><br><span class="line"><span class="built_in">console</span>.log(person.name);<span class="comment">//chris</span></span><br></pre></td></tr></table></figure>

<p>writable设置其name属性不可修改,只读;configurable设置其name属性不可删除。<br>2. 访问器属性:访问器属性不包含数据值；包含getter和setter函数。在读取访问器属性时调用getter函数，返回有效的值；在写入访问器属性时调用setter属性，传入新值。4个特性如下：</p>
<ul>
<li>[[Configurable]]:是否通过delete删除属性，默认为true</li>
<li>[[Enumerable]]:是否通过for-in 遍历返回属性。默认为true</li>
<li>[[Get]]: 读取属性时调用的函数。默认为undefined</li>
<li>[[Set]]: 写入属性时调用的函数。默认为undefined<br>访问器属性不能直接定义，必须使用Object.defineProperty()定义。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> book=&#123;</span><br><span class="line">    <span class="attr">_year</span>:<span class="number">2004</span>,</span><br><span class="line">    <span class="attr">edition</span>:<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(book,<span class="string">&quot;year&quot;</span>,&#123;</span><br><span class="line">    <span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>._year;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">set</span>:<span class="function"><span class="keyword">function</span>(<span class="params">newVal</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(newVal&gt;<span class="number">2004</span>)&#123;&#125;</span><br><span class="line">        <span class="built_in">this</span>._year=newVal;</span><br><span class="line">        <span class="built_in">this</span>.edition+=newVal-<span class="number">2004</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line">book.year=<span class="number">2005</span>;</span><br><span class="line"><span class="built_in">console</span>.log(book.edition);</span><br></pre></td></tr></table></figure>

<h3 id="枚举对象的所有属性"><a href="#枚举对象的所有属性" class="headerlink" title="枚举对象的所有属性"></a>枚举对象的所有属性</h3><p>ES5开始，有三种原生的方法用于枚举或者列出对象的属性：</p>
<ul>
<li>for…in 循环  该方法依次访问一个对象以及其原型链中所有可枚举的属性。</li>
<li>Object.keys(o)  该方法返回对象o自身包含(不包括原型中)的所有可枚举属性的名称的数组</li>
<li>Object.getOwenPropertyNames(o) 该方法返回对象o自身包含(不包括原型中)的所有属性(无论是否可枚举)的名称的数组。</li>
</ul>
<h3 id="创建新对象"><a href="#创建新对象" class="headerlink" title="创建新对象"></a>创建新对象</h3><h4 id="使用对象初始化器"><a href="#使用对象初始化器" class="headerlink" title="使用对象初始化器"></a>使用对象初始化器</h4><p>   铜鼓对象初始化器创建对象，也称作通过字面值创建对象。</p>
   <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">va obj = &#123; <span class="attr">property_1</span>:   value_1,   <span class="comment">// property_# 可以是一个标识符...</span></span><br><span class="line">        <span class="number">2</span>:            value_2,   <span class="comment">// 或一个数字...</span></span><br><span class="line">       [<span class="string">&quot;property&quot;</span> +<span class="number">3</span>]: value_3,  <span class="comment">//  或一个可计算的key名...</span></span><br><span class="line">        <span class="comment">// ...,</span></span><br><span class="line">        <span class="string">&quot;property n&quot;</span>: value_n &#125;; <span class="comment">// 或一个字符串r</span></span><br></pre></td></tr></table></figure>

<h4 id="使用构造函数"><a href="#使用构造函数" class="headerlink" title="使用构造函数"></a>使用构造函数</h4><ol>
<li><p>通过创建一个构造函数来定义对象的类型。首字母大写</p>
</li>
<li><p>通过new创建对象实例</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">make,model,year</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.make=make;</span><br><span class="line">    <span class="built_in">this</span>.model=model;</span><br><span class="line">    <span class="built_in">this</span>.year=year;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> myCar=<span class="keyword">new</span> Car(<span class="string">&quot;Eagle&quot;</span>,<span class="string">&quot;Talon TSi&quot;</span>,<span class="number">1993</span>);</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="使用Object-create方法"><a href="#使用Object-create方法" class="headerlink" title="使用Object.create方法"></a>使用Object.create方法</h4><p>也可以用Object.create()方法创建对象。可以为创建的对象选择一个原型对象，而不是定义构造函数。<br>注意： Object.create()创建的实例会丢失原构造函数属性</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Animal=&#123;</span><br><span class="line">    <span class="attr">type</span>:<span class="string">&quot;Invertebrates&quot;</span>,<span class="comment">//属性默认值</span></span><br><span class="line">    <span class="attr">displayType</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.type);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一种新的动物——animal1</span></span><br><span class="line"><span class="keyword">var</span> animal1 = <span class="built_in">Object</span>.create(Animal);</span><br><span class="line">animal1.displayType(); <span class="comment">// Output:Invertebrates</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一种新的动物——Fishes</span></span><br><span class="line"><span class="keyword">var</span> fish = <span class="built_in">Object</span>.create(Animal);</span><br><span class="line">fish.type = <span class="string">&quot;Fishes&quot;</span>;</span><br><span class="line">fish.displayType(); <span class="comment">// Output:Fishes</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//丢失原构造函数的属性</span></span><br><span class="line"><span class="keyword">var</span> base=<span class="function"><span class="keyword">function</span>(<span class="params">name</span>)</span>&#123;<span class="built_in">this</span>.name=name&#125;;</span><br><span class="line"><span class="keyword">var</span> myObj=<span class="built_in">Object</span>.create(base);</span><br><span class="line">myObj.name=<span class="string">&quot;chirs&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(myObj.name);<span class="comment">//undefine</span></span><br></pre></td></tr></table></figure>

<h4 id="ES6中新增类用于创建对象的模板"><a href="#ES6中新增类用于创建对象的模板" class="headerlink" title="ES6中新增类用于创建对象的模板"></a>ES6中新增类用于创建对象的模板</h4><p>在ES6中引入了 类定义 ，但它实际上是已有的原型继承方式的语法糖而已，并没有引入新的面向对象继承模型。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> </span>&#123;</span><br><span class="line">    <span class="comment">// constructor</span></span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">height, width</span>)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.height = height;</span><br><span class="line">        <span class="built_in">this</span>.width = width;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Getter</span></span><br><span class="line">    <span class="keyword">get</span> <span class="title">area</span>() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.calcArea()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Method</span></span><br><span class="line">    <span class="function"><span class="title">calcArea</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.height * <span class="built_in">this</span>.width;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> square = <span class="keyword">new</span> Rectangle(<span class="number">10</span>, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(square.area);</span><br><span class="line"><span class="comment">// 100</span></span><br></pre></td></tr></table></figure>

<h5 id="使用extends扩展子类"><a href="#使用extends扩展子类" class="headerlink" title="使用extends扩展子类"></a>使用extends扩展子类</h5><p>extends关键字在类声明或类表达式中用于创建一个类作为另一类的一个子类。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">speak</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span> makes a noise`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">name</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>(name);<span class="comment">//调用超类构造函数并传入name参数</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="title">speak</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span> barks`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> d=<span class="keyword">new</span> Dog(<span class="string">&quot;Mitzie&quot;</span>);</span><br><span class="line">d.speak();<span class="comment">//&quot;Mitzie barks&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><p>所有的Javascript对象至少继承与一个对象。被继承的对象被称为原型，对象可以继承原型对象的属性和方法，其继承的属性和方法可以通过构造函数的<code>prototype</code>对象找到。</p>
<h2 id="映射"><a href="#映射" class="headerlink" title="映射"></a>映射</h2><h3 id="Map对象"><a href="#Map对象" class="headerlink" title="Map对象"></a>Map对象</h3><p>Map对象：一个简单的键值对映射集合，可以按照数据插入时的顺序遍历所有的元素。可以使用for…of循环得到所有的[key,value]。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sayings = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">sayings.set(<span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;woof&#x27;</span>);</span><br><span class="line">sayings.set(<span class="string">&#x27;cat&#x27;</span>, <span class="string">&#x27;meow&#x27;</span>);</span><br><span class="line">sayings.set(<span class="string">&#x27;elephant&#x27;</span>, <span class="string">&#x27;toot&#x27;</span>);</span><br><span class="line">sayings.size; <span class="comment">// 3</span></span><br><span class="line">sayings.get(<span class="string">&#x27;fox&#x27;</span>); <span class="comment">// undefined</span></span><br><span class="line">sayings.has(<span class="string">&#x27;bird&#x27;</span>); <span class="comment">// false</span></span><br><span class="line">sayings.delete(<span class="string">&#x27;dog&#x27;</span>);</span><br><span class="line">sayings.has(<span class="string">&#x27;dog&#x27;</span>); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> [key, value] <span class="keyword">of</span> sayings) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key + <span class="string">&#x27; goes &#x27;</span> + value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &quot;cat goes meow&quot;</span></span><br><span class="line"><span class="comment">// &quot;elephant goes toot&quot;</span></span><br><span class="line"></span><br><span class="line">sayings.clear();</span><br><span class="line">sayings.size; <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<h4 id="Object和Map比较"><a href="#Object和Map比较" class="headerlink" title="Object和Map比较"></a>Object和Map比较</h4><p>一般地，objects会被用于将字符串类型映射到数值。Object允许设置键值对、根据键获取值、删除键、检测某个键是否存在。而Map具有更多的优势。</p>
<p>Object的键均为Strings类型，在Map里键可以是任意类型。<br>必须手动计算Object的尺寸，但是可以很容易地获取使用Map的尺寸。<br>Map的遍历遵循元素的插入顺序。<br>Object有原型，所以映射中有一些缺省的键。（可以用 map = Object.create(null) 回避）。<br>使用Object或者Map的场景：</p>
<ul>
<li>如果键在运行时才能知道，或者所有的键类型相同，所有的值类型相同，那就使用Map。</li>
<li>如果需要将原始值存储为键，则使用Map，因为Object将每个键视为字符串，不管它是一个数字值、布尔值还是任何其他原始值。</li>
<li>如果需要对个别元素进行操作，使用Object。</li>
</ul>
<h3 id="WeakMap对象"><a href="#WeakMap对象" class="headerlink" title="WeakMap对象"></a>WeakMap对象</h3><p>WeakMap对象也是键值对的集合。它的键必须是对象类型，只可以是任意类型。当键所指对象没有被其他地方引用的时候，就会被垃圾回收器回收(键被弱保持)。WeakMap接口与Map相同。<br>与Map不同的是，WeakMap的键不可枚举。不提供列出其键的方法。列表是否存在取决于垃圾回收器的状态，是不可预知的。<br>WeakMap对象常使用的场景是存储一个对象的私有数据或者隐藏实施细节。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对象内部的私有数据和方法被存储在WeakMap类型的privates变量中。所有暴露出的原型和情况都是公开的，而其他内容都是外界不可访问的，因为模块并未导出privates对象。</span></span><br><span class="line"><span class="keyword">const</span> privates=<span class="keyword">new</span> <span class="built_in">WeakMap</span>();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Public</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> me=&#123;</span><br><span class="line">        <span class="comment">// Private data goes here</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    privates.set(<span class="built_in">this</span>,me);</span><br><span class="line">&#125;</span><br><span class="line">Public.prototype.method=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> me=priveates.get(<span class="built_in">this</span>);</span><br><span class="line">     <span class="comment">// Do stuff with private data in `me`...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = Public;</span><br></pre></td></tr></table></figure>

<h3 id="Set对象"><a href="#Set对象" class="headerlink" title="Set对象"></a>Set对象</h3><p>Set对象是一组值的集合，这些值是不重复的，可以按照添加顺序来遍历。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mySet=<span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">mySet.add(<span class="number">1</span>);</span><br><span class="line">mySet.add(<span class="string">&quot;some text&quot;</span>);</span><br><span class="line">mySet.add(<span class="string">&quot;foo&quot;</span>);</span><br><span class="line"></span><br><span class="line">mySet.has(<span class="number">1</span>);<span class="comment">//true</span></span><br><span class="line">mySet.delete(<span class="string">&quot;foo&quot;</span>);</span><br><span class="line">mySet.size();<span class="comment">//2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">of</span> mySet) <span class="built_in">console</span>.log(item);</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// &quot;some text&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="数组和集合的转换"><a href="#数组和集合的转换" class="headerlink" title="数组和集合的转换"></a>数组和集合的转换</h4><p>使用Array.from 或者展开操作符，将集合Set转成数组Array。<br>Set的构造器接受数组作为参数，将数组Array转为集合Set，当数组转换为集合时，所有重复值将会被删除。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from(mySet);</span><br><span class="line"><span class="keyword">var</span> myArray=[...mySet2];<span class="comment">//myArray为数组</span></span><br><span class="line"></span><br><span class="line">mySet2=<span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">4</span>]);<span class="comment">//mySet2:[1,2,3,4]</span></span><br></pre></td></tr></table></figure>

<h4 id="Array和Set对比"><a href="#Array和Set对比" class="headerlink" title="Array和Set对比"></a>Array和Set对比</h4><p>在Javascript中使用数组来存储一组元素，Array和Set的使用比较：</p>
<ul>
<li>数组中判断元素是否存在indexOf函数效率低</li>
<li>Set对象允许根据值删除元素，而数组中必须使用基于下标的splice方法。</li>
<li>数组的indexOf方法无法找到NaN值</li>
<li>Set对象存储不重复的值</li>
</ul>
<h4 id="WeakSet对象"><a href="#WeakSet对象" class="headerlink" title="WeakSet对象"></a>WeakSet对象</h4><p>WeakSet对象是一组对象的集合。WeakSet中的对象不重复且不可枚举。<br>WeakSet 与Set对象的区别：</p>
<ul>
<li>WeakSets中的值必须是对象类型，不能是别的类型</li>
<li>WeakSet,当集合中的对象没有被其他地方被引用，则该WeakSet就会被垃圾回收器回收。所以不存在一个当前可用对象组成的列表，所以WeakSets不可枚举<br>常见的使用场景：使用DOM元素作为键来追踪它们而不必担心内存泄漏。</li>
</ul>
<h5 id="Map的键和Set的值的等值判断"><a href="#Map的键和Set的值的等值判断" class="headerlink" title="Map的键和Set的值的等值判断"></a>Map的键和Set的值的等值判断</h5><ul>
<li>判断使用与===相似的规则</li>
<li>-0 和+0相等</li>
<li>NaN与自身相等</li>
</ul>
<h2 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h2><p>BOM(浏览器对象模型)的核心对象表示浏览器的一个实例。<br>window.onload()</p>
<h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><p>DOM(文本对象模型)针对HTML和XML文档的API应用程序编程接口。</p>
<h3 id="节点"><a href="#节点" class="headerlink" title="节点"></a>节点</h3><h4 id="节点关系"><a href="#节点关系" class="headerlink" title="节点关系"></a>节点关系</h4><ul>
<li>parentNode父节点:somenode.parentNode</li>
<li>childNodes所有的子节点数组：somenode.childNodes</li>
<li>firstChild第一子节点：somenode.firstChild==&gt;somenode.childNodes[0]</li>
<li>lastChild最后一个子节点：somenode.lastChild==&gt;somenode.childNodes[somenode.length-1]</li>
<li>nextSibling:下一个兄弟节点：somenode.nextSibling</li>
<li>previousSibling:前一个兄弟节点：some.previousSibing<br><img src="/.io//img/%E8%8A%82%E7%82%B9%E5%85%B3%E7%B3%BB.png" alt="节点关系图"></li>
</ul>
<h4 id="节点操作"><a href="#节点操作" class="headerlink" title="节点操作"></a>节点操作</h4><ul>
<li>appendChild()在childNodes列表添加节点：somenode.appendChild(newNode);</li>
<li>replaceChild()替换子节点：somenode.replaceChild(newNode,someNode.firstChild); 参数：1.新节点 2.替换插入的位置</li>
<li>removeChild()移除节点：somenode.removeChild(somenode.firstChild)<br>移除第一个子节点</li>
<li>cloneNode()创建副本：true为深复制,复制节点和整个子节点树；false为浅复制，复制节点本身</li>
</ul>
<h3 id="Document类型"><a href="#Document类型" class="headerlink" title="Document类型"></a>Document类型</h3><h4 id="查找元素"><a href="#查找元素" class="headerlink" title="查找元素"></a>查找元素</h4><ul>
<li>getElementById(IdName)</li>
<li>getElementsByTagName(TagName)</li>
</ul>
<h4 id="元素的特性"><a href="#元素的特性" class="headerlink" title="元素的特性"></a>元素的特性</h4><ul>
<li>getAttribute(AttributeName) 获取元素的特性消息: div.</li>
<li>setAttribute(key,value)设置特性：div.setAttribute(“id”,”someOtheId”)</li>
<li>removeAttribute()移除元素的特性：div.removeAttribute(“class”)</li>
</ul>
<h4 id="创建元素"><a href="#创建元素" class="headerlink" title="创建元素"></a>创建元素</h4><ul>
<li>createElement(TagName)创建新元素 document.createElement(“div”)<br>可用于创建完整的元素标签</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div=<span class="built_in">document</span>.createElement(<span class="string">&quot;&lt;div id=\&quot;myNewDiv\&quot; class=\&quot;box\&quot;&gt;&lt;div&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="DOM-扩展"><a href="#DOM-扩展" class="headerlink" title="DOM 扩展"></a>DOM 扩展</h3><h4 id="selectors-API"><a href="#selectors-API" class="headerlink" title="selectors API"></a>selectors API</h4><ul>
<li>querySelector() 参数为css选择符,返回值为该css选择器的元素</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>  <span class="attr">id</span>=<span class="string">&quot;myId&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> div=<span class="built_in">document</span>.querySelector(<span class="string">&quot;#myId&quot;</span>);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>querySelectorAll() 参数为css选择器，返回值为css选择器的Nodelist实例，即符合的所有元素。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>  <span class="attr">class</span>=<span class="string">&quot;selected&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="comment">// 取得类为selected的所有元素</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> div=<span class="built_in">document</span>.querySelector(<span class="string">&quot;.selected&quot;</span>);</span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>getElementsByClassName() 参数为类型，返回值为该类名的所有元素</li>
</ul>
<h4 id="插入标记"><a href="#插入标记" class="headerlink" title="插入标记"></a>插入标记</h4><ul>
<li>innerHTML()</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div=<span class="built_in">document</span>.createElement(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">            div.innerHTML=<span class="string">&quot;&lt;span&gt;text by innerHTML api&lt;/span&gt;&quot;</span></span><br><span class="line">            <span class="built_in">document</span>.querySelector(<span class="string">&quot;div&quot;</span>).appendChild(div);</span><br></pre></td></tr></table></figure>

<p>显示的标签页面为：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>text by innerHTML api<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

        
        
          <blockquote id="copyright">
              <p>原文链接: <a href="ttps://joelin.github.io/index.html">ttps://joelin.github.io/index.html</a></p>
              <p>版权声明: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          
    <div class="social-share">
      <span>分享到:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-hexo-搭建" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/07/26/hexo-%E6%90%AD%E5%BB%BA/">Hexo + Github MacOS个人博客搭建（无踩坑式教材）</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2021-07-26T12:59:12.000Z" itemprop="datePublished">2021年07月26日</time>
</span>
      
      
      
<a href="/2021/07/26/hexo-%E6%90%AD%E5%BB%BA/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  留言
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h2><h3 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h3><ul>
<li>Mac: Install it with <a target="_blank" rel="noopener" href="https://brew.sh/">Homebrew</a>, <a target="_blank" rel="noopener" href="https://www.macports.org/">MacPorts</a>or installer.</li>
</ul>
<h3 id="安装NodeJS"><a href="#安装NodeJS" class="headerlink" title="安装NodeJS"></a>安装NodeJS</h3><ul>
<li>Windows/Mac:install with <a target="_blank" rel="noopener" href="https://github.com/nvm-sh/nvm">nvm</a>   to manage node and npm version.</li>
</ul>
<h3 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h3><ul>
<li>全局安装：完成以上的环境安装后，通过npm全局安装Hexo。<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="创建hexo项目"><a href="#创建hexo项目" class="headerlink" title="创建hexo项目"></a>创建hexo项目</h2><h3 id="初始化创建hexo项目"><a href="#初始化创建hexo项目" class="headerlink" title="初始化创建hexo项目"></a>初始化创建hexo项目</h3><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init &lt;folder&gt;</span><br><span class="line">$ <span class="built_in">cd</span> &lt;folder&gt;</span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure>
<p>当安装完成，文件夹中有一下文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── _config.yml   # 网站配置信息</span><br><span class="line">├── package.json  # 应用程序信息</span><br><span class="line">├── scaffolds    # 模板文件夹</span><br><span class="line">├── source       # 存放用户资源</span><br><span class="line">|   ├── _drafts</span><br><span class="line">|   └── _posts</span><br><span class="line">└── themes   # 主题文件夹</span><br></pre></td></tr></table></figure>
<h3 id="本地运行hexo项目"><a href="#本地运行hexo项目" class="headerlink" title="本地运行hexo项目"></a>本地运行hexo项目</h3><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g  </span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>
<p><code>hexo g</code>为生成项目；  <code>hexo s</code>本地环境启动项目。运行起来后，浏览器中打开 <a href="http://localhost:4000，便可以看到生成的静态页面。">http://localhost:4000，便可以看到生成的静态页面。</a><br><img src="/images/hexo-landscape.png"></p>
<h3 id="选用其他主题"><a href="#选用其他主题" class="headerlink" title="选用其他主题"></a>选用其他主题</h3><ul>
<li>在当前目录下载其他主题包。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/chaooo/hexo-theme-BlueLake.git themes/BlueLake</span><br></pre></td></tr></table></figure></li>
<li>将主题修改为下载使用的BlueLake:修改<code>_config.yml</code>文件:<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: BlueLake</span><br></pre></td></tr></table></figure>
再次启动看修改后的效果<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>
<code>hexo clean</code>清除缓存，<code>hexo n &#39;new post&#39;</code>创建新文章。<br>启动后，运行起来后，浏览器中打开 <a href="http://localhost:4000，可以看到修改后的主题。">http://localhost:4000，可以看到修改后的主题。</a></li>
</ul>
<p><img src="/images/hexo-bluelake.png"></p>
<h2 id="部署到Github"><a href="#部署到Github" class="headerlink" title="部署到Github"></a>部署到Github</h2><h3 id="创建Github新仓库"><a href="#创建Github新仓库" class="headerlink" title="创建Github新仓库"></a>创建Github新仓库</h3><p>注意：新仓库名一定要与用户名一致，命名格式为<code>name:xxx.github.io</code>;仓库一定要是<code>public</code><br><img src="/images/github-create.png"></p>
<h3 id="Git获取GitHub授权"><a href="#Git获取GitHub授权" class="headerlink" title="Git获取GitHub授权"></a>Git获取GitHub授权</h3><ul>
<li>修改配置文件<code>_config.yml</code>文件<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">url:https:<span class="comment">//joelinlin.github.io</span></span><br><span class="line">....</span><br><span class="line"><span class="attr">deploy</span>:</span><br><span class="line">  type: git</span><br><span class="line">  <span class="attr">repo</span>: https:<span class="comment">//github.com/joelinlin/joelin.github.io.git</span></span><br><span class="line">  branch: main</span><br><span class="line"></span><br></pre></td></tr></table></figure>
注意：type，repo，branch前面必须有空格；repo为你的仓库HTTPS链接；url改为你的项目地址为<code>https://用户名.github.io</code><br>回到本地项目，打开终端。</li>
<li>配置github信息<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git --global user.name &quot;用户名&quot;</span><br><span class="line">git --global user.email &quot;邮箱地址&quot;</span><br></pre></td></tr></table></figure></li>
<li>git生成ssh-key<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C “github个人邮箱地址”</span><br><span class="line">ssh-keygen -t rsa -C “joelintest@outlook.com”</span><br></pre></td></tr></table></figure></li>
<li>复制生成的ssh-key<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure></li>
<li>测试git是否授权成功，能获取你的用户信息即成功。<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure>
<img src="/images/github-ssh.png"></li>
</ul>
<h3 id="Github设置部署key"><a href="#Github设置部署key" class="headerlink" title="Github设置部署key"></a>Github设置部署key</h3><p>打开新创建的仓库，找到setting-&gt;Deploy-&gt;Add key。Title随意起，key为刚刚生成的ssh-key。<br><img src="/images/github-key.png"></p>
<h3 id="部署到Github-1"><a href="#部署到Github-1" class="headerlink" title="部署到Github"></a>部署到Github</h3><ul>
<li>安装hexo部署到github插件<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></li>
<li>将本地项目部署。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure></li>
<li>访问githu部署后的项目<br>浏览器打开地址，<code>https://用户名.github.io</code>，即可以部署成功。</li>
</ul>

        
        
          <blockquote id="copyright">
              <p>原文链接: <a href="ttps://joelin.github.io/index.html">ttps://joelin.github.io/index.html</a></p>
              <p>版权声明: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          
    <div class="social-share">
      <span>分享到:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/07/26/hello-world/">Hello World</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2021-07-26T12:21:45.367Z" itemprop="datePublished">2021年07月26日</time>
</span>
      
      
      
<a href="/2021/07/26/hello-world/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  留言
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

        
        
          <blockquote id="copyright">
              <p>原文链接: <a href="ttps://joelin.github.io/index.html">ttps://joelin.github.io/index.html</a></p>
              <p>版权声明: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          
    <div class="social-share">
      <span>分享到:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>



</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-posts"></i> 最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/07/29/js%E5%9F%BA%E7%A1%80/">js基础</a>
          </li>
        
          <li>
            <a href="/2021/07/26/hexo-%E6%90%AD%E5%BB%BA/">Hexo + Github MacOS个人博客搭建（无踩坑式教材）</a>
          </li>
        
          <li>
            <a href="/2021/07/26/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>


  
    
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-archive"></i> 归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/">2021年07月</a><span class="archive-list-count">3</span></li></ul>
    </div>
  </div>


  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-link"></i> 友情链接</h3>
    <div class="widget">
      <ul>
      
        <li>
          <a target="_blank" rel="noopener" href="http://www.example1.com/">site-name1</a>
        </li>
      
        <li>
          <a target="_blank" rel="noopener" href="http://www.example2.com/">site-name2</a>
        </li>
      
        <li>
          <a target="_blank" rel="noopener" href="http://www.example3.com/">site-name3</a>
        </li>
      
      </ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <a id="totop" href="#top"></a>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <p>
        <a href="/sitemap.xml">网站地图</a>
        <span> | </span><a href="/atom.xml">订阅本站</a>
        <span> | </span><a href="/about/">联系博主</a>
      </p>
      
        <p>
          <i class="fa fa-visitors"></i>
          <i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>
          ，
          <i class="fa fa-views"></i>
          <i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>
        </p>
      
      <p>
        <span>Copyright &copy; 2021 Joelin.</span>
        <span>Theme by <a href="https://github.com/chaooo/hexo-theme-BlueLake/" target="_blank">BlueLake.</a></span>
        
            <span>Count by <a href="http://busuanzi.ibruce.info/" target="_blank">busuanzi.</a></span>
        
        <span>Powered by <a href="https://hexo.io/" target="_blank">Hexo.</a></span>
      </p>
    </div>
  </div>
</footer>

    </div>
    
<script src="/js/jquery-3.4.1.min.js"></script>


<script src="/js/search.json.js"></script>


  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>






  
<script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



  
<script src="/localshare/js/social-share.js"></script>

  
<script src="/localshare/js/qrcode.js"></script>




















  </div>
</body>
</html>